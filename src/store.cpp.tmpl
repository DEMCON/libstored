{#
vim:filetype=cpp
-#}

#include "{{store.name}}.h"

#include <cstring>

namespace stored {

{% if store.buffer.init|len > 0 %}
static unsigned char const {{store.name}}Data_bufferinit[{{store.buffer.init|len}}] = {
{{store.buffer.init|carray}}
};
{% endif %}

{{store.name}}Data::{{store.name}}Data()
    : buffer()
{
{% if store.buffer.init|len > 0 %}
    memcpy(buffer, {{store.name}}Data_bufferinit, sizeof({{store.name}}Data_bufferinit));
{% endif %}
}

#ifdef LIBSTORED_FULL_NAMES
uint8_t const {{store.name}}Data::directory[{{store.directory.longdata|len}}] = {
{{store.directory.longdata|carray}}
};
#else
uint8_t const {{store.name}}Data::directory[{{store.directory.data|len}}] = {
{{store.directory.data|carray}}
};
#endif

} // namespace


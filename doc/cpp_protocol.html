

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Protocol &mdash; libstored  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Synchronizer" href="cpp_synchronizer.html" />
    <link rel="prev" title="Directory" href="cpp_directory.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> libstored
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">libstored</a></li>
<li class="toctree-l1"><a class="reference external" href="https://demcon.github.io/libstored/libstored.sozi.html">Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cpp.html">C++</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cpp_config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp_debugger.html">Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp_directory.html">Directory</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stored-asciiescapelayer">stored::AsciiEscapeLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-bufferlayer">stored::BufferLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-compresslayer">stored::CompressLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-crc16layer">stored::Crc16Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-crc8layer">stored::Crc8Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-debugarqlayer">stored::DebugArqLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-debugzmqlayer">stored::DebugZmqLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-doublepipelayer">stored::DoublePipeLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-fifoloopback">stored::FifoLoopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-filelayer">stored::FileLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-loopback">stored::Loopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-namedpipelayer">stored::NamedPipeLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-poller">stored::Poller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-printlayer">stored::PrintLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-segmentationlayer">stored::SegmentationLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-stdiolayer">stored::StdioLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-synczmqlayer">stored::SyncZmqLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-terminallayer">stored::TerminalLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stored-xsimlayer">stored::XsimLayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#abstract-classes">Abstract classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stored-arqlayer">stored::ArqLayer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stored-polledfilelayer">stored::PolledFileLayer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stored-polledlayer">stored::PolledLayer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stored-protocollayer">stored::ProtocolLayer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cpp_synchronizer.html">Synchronizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp_types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp_util.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fpga.html">VHDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="py.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">libstored</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="cpp.html">C++</a> &raquo;</li>
        
      <li>Protocol</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/doc/cpp_protocol.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="protocol">
<h1>Protocol<a class="headerlink" href="#protocol" title="Permalink to this headline">¶</a></h1>
<p>Protocol layers, to be wrapped around a <a class="reference internal" href="cpp_debugger.html#_CPPv4N6stored8DebuggerE" title="stored::Debugger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Debugger</span></code></a> or
<a class="reference internal" href="cpp_synchronizer.html#_CPPv4N6stored12SynchronizerE" title="stored::Synchronizer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Synchronizer</span></code></a> instance.</p>
<p>Every embedded device is different, so the required protocol layers are too.
What is common, is the Application layer, but as the Transport and Physical
layer are often different, the layers in between are often different too.  To
provide a common Embedded Debugger interface, the client (e.g., GUI, CLI,
python scripts), we standardize on ZeroMQ REQ/REP over TCP.</p>
<p>Not every device supports ZeroMQ, or even TCP. For this, several bridges are
required. Different configurations may be possible:</p>
<ul class="simple">
<li><p>In case of a Linux/Windows application: embed ZeroMQ server into the
application, such that the application binds to a REP socket.  A client can
connect to the application directly.</p></li>
<li><p>Terminal application with only stdin/stdout: use escape sequences in the
stdin/stdout stream. <code class="docutils literal notranslate"><span class="pre">client/ed2.wrapper.stdio</span></code> is provided to inject/extract
these messages from those streams and prove a ZeroMQ interface.</p></li>
<li><p>Application over CAN: like a <code class="docutils literal notranslate"><span class="pre">client/ed2.wrapper.stdio</span></code>, a CAN extractor to
ZeroMQ bridge is required.</p></li>
</ul>
<p>Then, the <a class="reference external" href="py.html">client</a> can be connected to the ZeroMQ interface.</p>
<p>Test it using the <code class="docutils literal notranslate"><span class="pre">terminal</span></code> example, started using the
<code class="docutils literal notranslate"><span class="pre">client/ed2.wrapper.stdio</span></code>. Then connect one of the clients to it.</p>
<p>libstored suggests to use the protocol layers below, where applicable.
Standard layer implementations can be used to construct the following stacks (top-down):</p>
<ul class="simple">
<li><p>Lossless UART:
<a class="reference internal" href="cpp_debugger.html#_CPPv4N6stored8DebuggerE" title="stored::Debugger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Debugger</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="stored::AsciiEscapeLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::AsciiEscapeLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13TerminalLayerE" title="stored::TerminalLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::TerminalLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored10StdioLayerE" title="stored::StdioLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::StdioLayer</span></code></a></p></li>
<li><p>Lossy UART:
<a class="reference internal" href="cpp_debugger.html#_CPPv4N6stored8DebuggerE" title="stored::Debugger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Debugger</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13DebugArqLayerE" title="stored::DebugArqLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::DebugArqLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored10Crc16LayerE" title="stored::Crc16Layer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Crc16Layer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="stored::AsciiEscapeLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::AsciiEscapeLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13TerminalLayerE" title="stored::TerminalLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::TerminalLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored10StdioLayerE" title="stored::StdioLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::StdioLayer</span></code></a></p></li>
<li><p>CAN:
<a class="reference internal" href="cpp_debugger.html#_CPPv4N6stored8DebuggerE" title="stored::Debugger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Debugger</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored17SegmentationLayerE" title="stored::SegmentationLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::SegmentationLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13DebugArqLayerE" title="stored::DebugArqLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::DebugArqLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored11BufferLayerE" title="stored::BufferLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::BufferLayer</span></code></a>,
CAN driver</p></li>
<li><p>ZMQ:
<a class="reference internal" href="cpp_debugger.html#_CPPv4N6stored8DebuggerE" title="stored::Debugger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Debugger</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayerE" title="stored::DebugZmqLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::DebugZmqLayer</span></code></a></p></li>
<li><p>VHDL simulation:
<a class="reference internal" href="cpp_synchronizer.html#_CPPv4N6stored12SynchronizerE" title="stored::Synchronizer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::Synchronizer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="stored::AsciiEscapeLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::AsciiEscapeLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored13TerminalLayerE" title="stored::TerminalLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::TerminalLayer</span></code></a>,
<a class="reference internal" href="#_CPPv4N6stored9XsimLayerE" title="stored::XsimLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::XsimLayer</span></code></a></p></li>
</ul>
<p>If you have to implement you own protocol layer, start with
<a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">stored::ProtocolLayer</span></code></a>. Especially, override
<a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer6encodeEv" title="stored::ProtocolLayer::encode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">stored::ProtocolLayer::encode()</span></code></a> for messages passed down the stack
towards the hardware, and <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer6decodeEPv6size_t" title="stored::ProtocolLayer::decode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">stored::ProtocolLayer::decode()</span></code></a> for
messages from the hardware up.</p>
<p>The inheritance of the layers is shown below.</p>
<p class="plantuml">
<img src="../_images/plantuml-32116ae655947122ddec03269001dae548d5f0c0.svg" alt="abstract ProtocolLayer
ProtocolLayer &lt;|-- AsciiEscapeLayer
ProtocolLayer &lt;|-- TerminalLayer
AsciiEscapeLayer -[hidden]--&gt; TerminalLayer
ProtocolLayer &lt;|-- SegmentationLayer
ProtocolLayer &lt;|-- Crc8Layer
ProtocolLayer &lt;|-- Crc16Layer
Crc8Layer -[hidden]--&gt; Crc16Layer
ProtocolLayer &lt;|-- BufferLayer
ProtocolLayer &lt;|-- PrintLayer

abstract ArqLayer
SegmentationLayer -[hidden]--&gt; ArqLayer
ProtocolLayer &lt;|-- ArqLayer
ArqLayer &lt;|-- DebugArqLayer

abstract PolledLayer
abstract PolledFileLayer
abstract PolledSocketLayer
ProtocolLayer &lt;|-- PolledLayer
PolledLayer &lt;|-- PolledFileLayer
PolledFileLayer &lt;|-- FileLayer
FileLayer &lt;|-- NamedPipeLayer
PolledFileLayer &lt;|-- DoublePipeLayer
DoublePipeLayer &lt;|-- XsimLayer
XsimLayer --&gt; NamedPipeLayer
PolledLayer &lt;|-- PolledSocketLayer : Windows
PolledFileLayer &lt;|-- PolledSocketLayer : POSIX
PolledFileLayer &lt;|-- StdioLayer : Windows
FileLayer &lt;|-- StdioLayer : POSIX
ProtocolLayer &lt;|-- CompressLayer
PolledLayer &lt;|-- FifoLoopback

ProtocolLayer &lt;|-- Stream
Debugger --&gt; Stream
Stream --&gt; CompressLayer
ProtocolLayer &lt;|-- Debugger
ProtocolLayer &lt;|-- SyncConnection

abstract ZmqLayer
PolledSocketLayer &lt;|-- ZmqLayer
ZmqLayer &lt;|-- DebugZmqLayer
ZmqLayer &lt;|-- SyncZmqLayer

class Loopback
class Poller"/></p>
<div class="section" id="stored-asciiescapelayer">
<h2>stored::AsciiEscapeLayer<a class="headerlink" href="#stored-asciiescapelayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored16AsciiEscapeLayerE">
<span id="_CPPv3N6stored16AsciiEscapeLayerE"></span><span id="_CPPv2N6stored16AsciiEscapeLayerE"></span><span id="stored::AsciiEscapeLayer"></span><span class="target" id="classstored_1_1_ascii_escape_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">AsciiEscapeLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Escape ASCII control characters. </p>
<p>This is required to encapsulate messages within <a class="reference internal" href="#classstored_1_1_terminal_layer"><span class="std std-ref">stored::TerminalLayer</span></a>, for example. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored16AsciiEscapeLayer4baseE">
<span id="_CPPv3N6stored16AsciiEscapeLayer4baseE"></span><span id="_CPPv2N6stored16AsciiEscapeLayer4baseE"></span><span id="stored::AsciiEscapeLayer::base"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1ad942b156ae7ac142b44f742ed5dca3a9"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERK16AsciiEscapeLayer">
<span id="_CPPv3N6stored16AsciiEscapeLayer16AsciiEscapeLayerERK16AsciiEscapeLayer"></span><span id="_CPPv2N6stored16AsciiEscapeLayer16AsciiEscapeLayerERK16AsciiEscapeLayer"></span><span id="stored::AsciiEscapeLayer::AsciiEscapeLayer__AsciiEscapeLayerCR"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1ab8b4f9f1ff917b09cb8853f8605a467c"></span><code class="sig-name descname"><span class="pre">AsciiEscapeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERK16AsciiEscapeLayer" title="stored::AsciiEscapeLayer::AsciiEscapeLayer"><span class="pre">AsciiEscapeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERK16AsciiEscapeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERR16AsciiEscapeLayer">
<span id="_CPPv3N6stored16AsciiEscapeLayer16AsciiEscapeLayerERR16AsciiEscapeLayer"></span><span id="_CPPv2N6stored16AsciiEscapeLayer16AsciiEscapeLayerERR16AsciiEscapeLayer"></span><span id="stored::AsciiEscapeLayer::AsciiEscapeLayer__AsciiEscapeLayerRR"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1ad11b3f47a53ea31ec113cbe309a254e0"></span><code class="sig-name descname"><span class="pre">AsciiEscapeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERR16AsciiEscapeLayer" title="stored::AsciiEscapeLayer::AsciiEscapeLayer"><span class="pre">AsciiEscapeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerERR16AsciiEscapeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerEbP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored16AsciiEscapeLayer16AsciiEscapeLayerEbP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored16AsciiEscapeLayer16AsciiEscapeLayerEbP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::AsciiEscapeLayer::AsciiEscapeLayer__b.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1ad98a4887d4b5c0d8559c0b02e4cad982"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">AsciiEscapeLayer</span></code><span class="sig-paren">(</span><span class="pre">bool</span> <em><span class="pre">all</span></em> <span class="pre">=</span> <span class="pre">false</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer16AsciiEscapeLayerEbP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayerD0Ev">
<span id="_CPPv3N6stored16AsciiEscapeLayerD0Ev"></span><span id="_CPPv2N6stored16AsciiEscapeLayerD0Ev"></span><span id="stored::AsciiEscapeLayer::~AsciiEscapeLayer"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1afa36c84c34abaaafeff11862f610860c"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~AsciiEscapeLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
<p>Ties to the layer above and below are nicely removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored16AsciiEscapeLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored16AsciiEscapeLayer6decodeEPv6size_t"></span><span id="stored::AsciiEscapeLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a5acfb59ed33a8f0f3e27556421ff5245"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored16AsciiEscapeLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored16AsciiEscapeLayer6encodeEPKv6size_tb"></span><span id="stored::AsciiEscapeLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a3db26741f80800ade6a58055dc89b5ee"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored16AsciiEscapeLayer3mtuEv">
<span id="_CPPv3NK6stored16AsciiEscapeLayer3mtuEv"></span><span id="_CPPv2NK6stored16AsciiEscapeLayer3mtuEv"></span><span id="stored::AsciiEscapeLayer::mtuC"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1ac773513d7ef5330f9fc7b46f08e79442"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored16AsciiEscapeLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayeraSERK16AsciiEscapeLayer">
<span id="_CPPv3N6stored16AsciiEscapeLayeraSERK16AsciiEscapeLayer"></span><span id="_CPPv2N6stored16AsciiEscapeLayeraSERK16AsciiEscapeLayer"></span><span id="stored::AsciiEscapeLayer::assign-operator__AsciiEscapeLayerCR"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a7dcc38422a0a43d76d5c2cc7706f0724"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="stored::AsciiEscapeLayer"><span class="pre">AsciiEscapeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayeraSERK16AsciiEscapeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored16AsciiEscapeLayeraSERR16AsciiEscapeLayer">
<span id="_CPPv3N6stored16AsciiEscapeLayeraSERR16AsciiEscapeLayer"></span><span id="_CPPv2N6stored16AsciiEscapeLayeraSERR16AsciiEscapeLayer"></span><span id="stored::AsciiEscapeLayer::assign-operator__AsciiEscapeLayerRR"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a761638029c05f18dcc581d72c2d2f97f"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored16AsciiEscapeLayerE" title="stored::AsciiEscapeLayer"><span class="pre">AsciiEscapeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayeraSERR16AsciiEscapeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored16AsciiEscapeLayer3EscE">
<span id="_CPPv3N6stored16AsciiEscapeLayer3EscE"></span><span id="_CPPv2N6stored16AsciiEscapeLayer3EscE"></span><span id="stored::AsciiEscapeLayer::Esc__cC"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a3387a996b07c01ff22e8fadecda9277d"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">Esc</span></code> <span class="pre">=</span> <span class="pre">'\x7f'</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer3EscE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored16AsciiEscapeLayer7EscMaskE">
<span id="_CPPv3N6stored16AsciiEscapeLayer7EscMaskE"></span><span id="_CPPv2N6stored16AsciiEscapeLayer7EscMaskE"></span><span id="stored::AsciiEscapeLayer::EscMask__cC"></span><span class="target" id="classstored_1_1_ascii_escape_layer_1a61f7a9fd55a71c7c6c73a0ff3d73b612"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">EscMask</span></code> <span class="pre">=</span> <span class="pre">'\x1f'</span><a class="headerlink" href="#_CPPv4N6stored16AsciiEscapeLayer7EscMaskE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-bufferlayer">
<h2>stored::BufferLayer<a class="headerlink" href="#stored-bufferlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored11BufferLayerE">
<span id="_CPPv3N6stored11BufferLayerE"></span><span id="_CPPv2N6stored11BufferLayerE"></span><span id="stored::BufferLayer"></span><span class="target" id="classstored_1_1_buffer_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">BufferLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored11BufferLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Buffer partial encoding frames. </p>
<p>By default, layers pass encoded data immediately to lower layers. However, one might collect as much data as possible to reduce overhead of the actual transport. This layer buffers partial messages until the maximum buffer capacity is reached, or the <code class="docutils literal notranslate"><span class="pre">last</span></code> flag is encountered. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored11BufferLayer4baseE">
<span id="_CPPv3N6stored11BufferLayer4baseE"></span><span id="_CPPv2N6stored11BufferLayer4baseE"></span><span id="stored::BufferLayer::base"></span><span class="target" id="classstored_1_1_buffer_layer_1a4e4349d53f00b48357952031c61857fa"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored11BufferLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayer11BufferLayerERK11BufferLayer">
<span id="_CPPv3N6stored11BufferLayer11BufferLayerERK11BufferLayer"></span><span id="_CPPv2N6stored11BufferLayer11BufferLayerERK11BufferLayer"></span><span id="stored::BufferLayer::BufferLayer__BufferLayerCR"></span><span class="target" id="classstored_1_1_buffer_layer_1a587c9ead02b35cfadabe5ea931a8874d"></span><code class="sig-name descname"><span class="pre">BufferLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11BufferLayer11BufferLayerERK11BufferLayer" title="stored::BufferLayer::BufferLayer"><span class="pre">BufferLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayer11BufferLayerERK11BufferLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayer11BufferLayerERR11BufferLayer">
<span id="_CPPv3N6stored11BufferLayer11BufferLayerERR11BufferLayer"></span><span id="_CPPv2N6stored11BufferLayer11BufferLayerERR11BufferLayer"></span><span id="stored::BufferLayer::BufferLayer__BufferLayerRR"></span><span class="target" id="classstored_1_1_buffer_layer_1a870300d822bf106f821ec28413095cf1"></span><code class="sig-name descname"><span class="pre">BufferLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11BufferLayer11BufferLayerERR11BufferLayer" title="stored::BufferLayer::BufferLayer"><span class="pre">BufferLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayer11BufferLayerERR11BufferLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayer11BufferLayerE6size_tP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored11BufferLayer11BufferLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored11BufferLayer11BufferLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::BufferLayer::BufferLayer__s.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_buffer_layer_1a37030ff4ad22eff63d818ea535362f29"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">BufferLayer</span></code><span class="sig-paren">(</span><span class="pre">size_t</span> <em><span class="pre">size</span></em> <span class="pre">=</span> <span class="pre">0</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayer11BufferLayerE6size_tP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructor for a buffer with given size. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">size</span></code> is 0, the buffer it not bounded. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayerD0Ev">
<span id="_CPPv3N6stored11BufferLayerD0Ev"></span><span id="_CPPv2N6stored11BufferLayerD0Ev"></span><span id="stored::BufferLayer::~BufferLayer"></span><span class="target" id="classstored_1_1_buffer_layer_1a25955130c9a93809ab60cac04e2e8141"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~BufferLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored11BufferLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored11BufferLayer6encodeEPKv6size_tb"></span><span id="stored::BufferLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_buffer_layer_1aa33bb526174b8ab92a7243175009140d"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored11BufferLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Collects all partial buffers, and passes the full encoded data on when <code class="docutils literal notranslate"><span class="pre">last</span></code> is set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayeraSERR11BufferLayer">
<span id="_CPPv3N6stored11BufferLayeraSERR11BufferLayer"></span><span id="_CPPv2N6stored11BufferLayeraSERR11BufferLayer"></span><span id="stored::BufferLayer::assign-operator__BufferLayerRR"></span><span class="target" id="classstored_1_1_buffer_layer_1ac788ae2e15585c85d745239116fa63fc"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11BufferLayerE" title="stored::BufferLayer"><span class="pre">BufferLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayeraSERR11BufferLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayeraSERK11BufferLayer">
<span id="_CPPv3N6stored11BufferLayeraSERK11BufferLayer"></span><span id="_CPPv2N6stored11BufferLayeraSERK11BufferLayer"></span><span id="stored::BufferLayer::assign-operator__BufferLayerCR"></span><span class="target" id="classstored_1_1_buffer_layer_1ab315823c18d5817f7398995ab067602b"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11BufferLayerE" title="stored::BufferLayer"><span class="pre">BufferLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11BufferLayeraSERK11BufferLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11BufferLayer5resetEv">
<span id="_CPPv3N6stored11BufferLayer5resetEv"></span><span id="_CPPv2N6stored11BufferLayer5resetEv"></span><span id="stored::BufferLayer::reset"></span><span class="target" id="classstored_1_1_buffer_layer_1a106b4baa477a0fac388215fc87a54fd4"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored11BufferLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-compresslayer">
<h2>stored::CompressLayer<a class="headerlink" href="#stored-compresslayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored13CompressLayerE">
<span id="_CPPv3N6stored13CompressLayerE"></span><span id="_CPPv2N6stored13CompressLayerE"></span><span id="stored::CompressLayer"></span><span class="target" id="classstored_1_1_compress_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">CompressLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored13CompressLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Compress/decompress streams. </p>
<p>The compress layer uses heatshrink for compression. It is a general-purpose algorithm, which is not the best compression, and not also not the fastest, but has a limited memory usage and allows streams, which makes is appropriate for embedded systems.</p>
<p>Compression works best on longer streams, but this layer works per message. So, although it may be stacked in any protocol stack, the compression ratio may be limited. It is nicely used in stored::Stream, where it compresses a full stream (not separate messages), which are sent in chunks to the other side.</p>
<p>When heatshrink is not available, this layer is just a pass-through. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored13CompressLayerUt1_0E">
<span id="_CPPv3N6stored13CompressLayerUt1_0E"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_0E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13CompressLayerUt1_06WindowE">
<span id="_CPPv3N6stored13CompressLayerUt1_06WindowE"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6a297dc2fc50f7c1e634c085ddec44eb26"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">Window</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_06WindowE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Window size. See heatshrink documentation. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13CompressLayerUt1_09LookaheadE">
<span id="_CPPv3N6stored13CompressLayerUt1_09LookaheadE"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6a1e135e134a50ec8e4c7789b1ea3a0efc"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">Lookahead</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_09LookaheadE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Lookahead. See heatshrink documentation. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13CompressLayerUt1_017DecodeInputBufferE">
<span id="_CPPv3N6stored13CompressLayerUt1_017DecodeInputBufferE"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6a16144ca72fbd2240454f7886f50f76f1"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">DecodeInputBuffer</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_017DecodeInputBufferE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Include buffer size in bytes. See heatshrink documentation. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13CompressLayerUt1_012FlagEncodingE">
<span id="_CPPv3N6stored13CompressLayerUt1_012FlagEncodingE"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6a31d43198249982c2618f032f778144d7"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">FlagEncoding</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_012FlagEncodingE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag for <code class="docutils literal notranslate"><span class="pre">m_state</span></code> to indicate an active encoder. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13CompressLayerUt1_012FlagDecodingE">
<span id="_CPPv3N6stored13CompressLayerUt1_012FlagDecodingE"></span><span class="target" id="classstored_1_1_compress_layer_1aacc2f8cd7fd40f83642bd118b44c7ca6a80517e8cbf7ce9ed90d4cabab80f5b3f"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">FlagDecoding</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayerUt1_012FlagDecodingE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag for <code class="docutils literal notranslate"><span class="pre">m_state</span></code> to indicate an active decoder. </p>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored13CompressLayer4baseE">
<span id="_CPPv3N6stored13CompressLayer4baseE"></span><span id="_CPPv2N6stored13CompressLayer4baseE"></span><span id="stored::CompressLayer::base"></span><span class="target" id="classstored_1_1_compress_layer_1ac2b69d5be89073a897af76dcee38799e"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored13CompressLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer13CompressLayerERK13CompressLayer">
<span id="_CPPv3N6stored13CompressLayer13CompressLayerERK13CompressLayer"></span><span id="_CPPv2N6stored13CompressLayer13CompressLayerERK13CompressLayer"></span><span id="stored::CompressLayer::CompressLayer__CompressLayerCR"></span><span class="target" id="classstored_1_1_compress_layer_1aaabf18f5deabca1f455ca4e46b7a4a48"></span><code class="sig-name descname"><span class="pre">CompressLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13CompressLayer13CompressLayerERK13CompressLayer" title="stored::CompressLayer::CompressLayer"><span class="pre">CompressLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13CompressLayer13CompressLayerERK13CompressLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer13CompressLayerERR13CompressLayer">
<span id="_CPPv3N6stored13CompressLayer13CompressLayerERR13CompressLayer"></span><span id="_CPPv2N6stored13CompressLayer13CompressLayerERR13CompressLayer"></span><span id="stored::CompressLayer::CompressLayer__CompressLayerRR"></span><span class="target" id="classstored_1_1_compress_layer_1ade757a81fd7632c6787c649ed6b3e66c"></span><code class="sig-name descname"><span class="pre">CompressLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13CompressLayer13CompressLayerERR13CompressLayer" title="stored::CompressLayer::CompressLayer"><span class="pre">CompressLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13CompressLayer13CompressLayerERR13CompressLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer13CompressLayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored13CompressLayer13CompressLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored13CompressLayer13CompressLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::CompressLayer::CompressLayer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_compress_layer_1af038e4652a2a1c155d691a5d69b21d90"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">CompressLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13CompressLayer13CompressLayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayerD0Ev">
<span id="_CPPv3N6stored13CompressLayerD0Ev"></span><span id="_CPPv2N6stored13CompressLayerD0Ev"></span><span id="stored::CompressLayer::~CompressLayer"></span><span class="target" id="classstored_1_1_compress_layer_1ae55c5731476b3c45520ca8218a2f86d6"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~CompressLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13CompressLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored13CompressLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored13CompressLayer6decodeEPv6size_t"></span><span id="stored::CompressLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_compress_layer_1a5c11e419367e8bba09588dc256275c44"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13CompressLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored13CompressLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored13CompressLayer6encodeEPKv6size_tb"></span><span id="stored::CompressLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_compress_layer_1a39184e7a7aa33e6720ed06e9200290a5"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13CompressLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13CompressLayer4idleEv">
<span id="_CPPv3NK6stored13CompressLayer4idleEv"></span><span id="_CPPv2NK6stored13CompressLayer4idleEv"></span><span id="stored::CompressLayer::idleC"></span><span class="target" id="classstored_1_1_compress_layer_1abc72f42dd10ef3c3597b01dafb67128b"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">idle</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored13CompressLayer4idleEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if the encoder and decoder are both in idle state. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if there is no data stuck in any internal buffer. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13CompressLayer3mtuEv">
<span id="_CPPv3NK6stored13CompressLayer3mtuEv"></span><span id="_CPPv2NK6stored13CompressLayer3mtuEv"></span><span id="stored::CompressLayer::mtuC"></span><span class="target" id="classstored_1_1_compress_layer_1acf1acb49201308d118d98e2eb5addfab"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored13CompressLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayeraSERK13CompressLayer">
<span id="_CPPv3N6stored13CompressLayeraSERK13CompressLayer"></span><span id="_CPPv2N6stored13CompressLayeraSERK13CompressLayer"></span><span id="stored::CompressLayer::assign-operator__CompressLayerCR"></span><span class="target" id="classstored_1_1_compress_layer_1a2562c60b66dc54d6be165119179da618"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13CompressLayerE" title="stored::CompressLayer"><span class="pre">CompressLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13CompressLayeraSERK13CompressLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayeraSERR13CompressLayer">
<span id="_CPPv3N6stored13CompressLayeraSERR13CompressLayer"></span><span id="_CPPv2N6stored13CompressLayeraSERR13CompressLayer"></span><span id="stored::CompressLayer::assign-operator__CompressLayerRR"></span><span class="target" id="classstored_1_1_compress_layer_1a3a833d8a16139e6c7e142f0933d328dc"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13CompressLayerE" title="stored::CompressLayer"><span class="pre">CompressLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13CompressLayeraSERR13CompressLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13CompressLayer20setPurgeableResponseEb">
<span id="_CPPv3N6stored13CompressLayer20setPurgeableResponseEb"></span><span id="_CPPv2N6stored13CompressLayer20setPurgeableResponseEb"></span><span id="stored::CompressLayer::setPurgeableResponse__b"></span><span class="target" id="classstored_1_1_compress_layer_1a736a0a58b31cd381563de3ed76c2945a"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setPurgeableResponse</span></code><span class="sig-paren">(</span><span class="pre">bool</span> <em><span class="pre">purgeable</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">final</span></em><a class="headerlink" href="#_CPPv4N6stored13CompressLayer20setPurgeableResponseEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flags the current response as purgeable. </p>
<p>This may influence how a response is handled. Especially, in case of retransmits of lost packets, one may decide to either reexecute the command, or to save the first response and resend it when the command was retransmitted. In that sense, a precious response (default) means that every layer should handle the data with case, as it cannot be recovered once it is lost. When the response is flagged purgeeble, the response may be thrown away after the first try to transmit it to the client.</p>
<p>By default, all responses are precious. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-crc16layer">
<h2>stored::Crc16Layer<a class="headerlink" href="#stored-crc16layer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored10Crc16LayerE">
<span id="_CPPv3N6stored10Crc16LayerE"></span><span id="_CPPv2N6stored10Crc16LayerE"></span><span id="stored::Crc16Layer"></span><span class="target" id="classstored_1_1_crc16_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">Crc16Layer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored10Crc16LayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A layer that adds a CRC-16 to messages. </p>
<p>Like <a class="reference internal" href="#classstored_1_1_crc8_layer"><span class="std std-ref">stored::Crc8Layer</span></a>, but using a 0xbaad as polynomial. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored10Crc16LayerUt1_9E">
<span id="_CPPv3N6stored10Crc16LayerUt1_9E"></span><span class="target" id="classstored_1_1_crc16_layer_1a7f7c2e4c9e501b8a61180f0336fd0601"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored10Crc16LayerUt1_9E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored10Crc16LayerUt1_910polynomialE">
<span id="_CPPv3N6stored10Crc16LayerUt1_910polynomialE"></span><span class="target" id="classstored_1_1_crc16_layer_1a7f7c2e4c9e501b8a61180f0336fd0601aee711989700375651ca8a9c3cc313fa9"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">polynomial</span></code><a class="headerlink" href="#_CPPv4N6stored10Crc16LayerUt1_910polynomialE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored10Crc16LayerUt1_94initE">
<span id="_CPPv3N6stored10Crc16LayerUt1_94initE"></span><span class="target" id="classstored_1_1_crc16_layer_1a7f7c2e4c9e501b8a61180f0336fd0601aeb8e182958fd03c1968f253e0bcb11c6"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">init</span></code><a class="headerlink" href="#_CPPv4N6stored10Crc16LayerUt1_94initE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored10Crc16Layer4baseE">
<span id="_CPPv3N6stored10Crc16Layer4baseE"></span><span id="_CPPv2N6stored10Crc16Layer4baseE"></span><span id="stored::Crc16Layer::base"></span><span class="target" id="classstored_1_1_crc16_layer_1ae4465a77b90af4bc3c5f8d7f9816a376"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer10Crc16LayerERK10Crc16Layer">
<span id="_CPPv3N6stored10Crc16Layer10Crc16LayerERK10Crc16Layer"></span><span id="_CPPv2N6stored10Crc16Layer10Crc16LayerERK10Crc16Layer"></span><span id="stored::Crc16Layer::Crc16Layer__Crc16LayerCR"></span><span class="target" id="classstored_1_1_crc16_layer_1af23ed68b74cf787171cf53ba75214b79"></span><code class="sig-name descname"><span class="pre">Crc16Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10Crc16Layer10Crc16LayerERK10Crc16Layer" title="stored::Crc16Layer::Crc16Layer"><span class="pre">Crc16Layer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer10Crc16LayerERK10Crc16Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer10Crc16LayerERR10Crc16Layer">
<span id="_CPPv3N6stored10Crc16Layer10Crc16LayerERR10Crc16Layer"></span><span id="_CPPv2N6stored10Crc16Layer10Crc16LayerERR10Crc16Layer"></span><span id="stored::Crc16Layer::Crc16Layer__Crc16LayerRR"></span><span class="target" id="classstored_1_1_crc16_layer_1ae66d540b57828de03a564e6384ab220e"></span><code class="sig-name descname"><span class="pre">Crc16Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10Crc16Layer10Crc16LayerERR10Crc16Layer" title="stored::Crc16Layer::Crc16Layer"><span class="pre">Crc16Layer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer10Crc16LayerERR10Crc16Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer10Crc16LayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored10Crc16Layer10Crc16LayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored10Crc16Layer10Crc16LayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::Crc16Layer::Crc16Layer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_crc16_layer_1ac332e25fb8984cdc0c95dc2905e3cb62"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">Crc16Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer10Crc16LayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16LayerD0Ev">
<span id="_CPPv3N6stored10Crc16LayerD0Ev"></span><span id="_CPPv2N6stored10Crc16LayerD0Ev"></span><span id="stored::Crc16Layer::~Crc16Layer"></span><span class="target" id="classstored_1_1_crc16_layer_1a0b1420d3d3c69c129962c8ece9052ad3"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~Crc16Layer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored10Crc16LayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer6decodeEPv6size_t">
<span id="_CPPv3N6stored10Crc16Layer6decodeEPv6size_t"></span><span id="_CPPv2N6stored10Crc16Layer6decodeEPv6size_t"></span><span id="stored::Crc16Layer::decode__voidP.s"></span><span class="target" id="classstored_1_1_crc16_layer_1afc268baaaa18446a10a8ab23bf04e967"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored10Crc16Layer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored10Crc16Layer6encodeEPKv6size_tb"></span><span id="stored::Crc16Layer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_crc16_layer_1aaa370f1466d22991713a951f1a8e9bfd"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored10Crc16Layer3mtuEv">
<span id="_CPPv3NK6stored10Crc16Layer3mtuEv"></span><span id="_CPPv2NK6stored10Crc16Layer3mtuEv"></span><span id="stored::Crc16Layer::mtuC"></span><span class="target" id="classstored_1_1_crc16_layer_1a82d88b7503bdb383c9416e2a0cad8503"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored10Crc16Layer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16LayeraSERK10Crc16Layer">
<span id="_CPPv3N6stored10Crc16LayeraSERK10Crc16Layer"></span><span id="_CPPv2N6stored10Crc16LayeraSERK10Crc16Layer"></span><span id="stored::Crc16Layer::assign-operator__Crc16LayerCR"></span><span class="target" id="classstored_1_1_crc16_layer_1a63dfa7cb6832d146859bcd07a26705f0"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10Crc16LayerE" title="stored::Crc16Layer"><span class="pre">Crc16Layer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10Crc16LayeraSERK10Crc16Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16LayeraSERR10Crc16Layer">
<span id="_CPPv3N6stored10Crc16LayeraSERR10Crc16Layer"></span><span id="_CPPv2N6stored10Crc16LayeraSERR10Crc16Layer"></span><span id="stored::Crc16Layer::assign-operator__Crc16LayerRR"></span><span class="target" id="classstored_1_1_crc16_layer_1a34b11e7ace13de97aefcb90f12552b61"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10Crc16LayerE" title="stored::Crc16Layer"><span class="pre">Crc16Layer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10Crc16LayeraSERR10Crc16Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10Crc16Layer5resetEv">
<span id="_CPPv3N6stored10Crc16Layer5resetEv"></span><span id="_CPPv2N6stored10Crc16Layer5resetEv"></span><span id="stored::Crc16Layer::reset"></span><span class="target" id="classstored_1_1_crc16_layer_1a00610c4aeabd33c565f5331a5aef3e01"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10Crc16Layer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-crc8layer">
<h2>stored::Crc8Layer<a class="headerlink" href="#stored-crc8layer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored9Crc8LayerE">
<span id="_CPPv3N6stored9Crc8LayerE"></span><span id="_CPPv2N6stored9Crc8LayerE"></span><span id="stored::Crc8Layer"></span><span class="target" id="classstored_1_1_crc8_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">Crc8Layer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored9Crc8LayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A layer that adds a CRC-8 to messages. </p>
<p>If the CRC does not match during decoding, it is silently dropped. You probably want <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">stored::DebugArqLayer</span></a> or <a class="reference internal" href="#classstored_1_1_arq_layer"><span class="std std-ref">stored::ArqLayer</span></a> somewhere higher in the stack.</p>
<p>An 8-bit CRC is used with polynomial 0xA6. This polynomial seems to be a good choice according to <em>Cyclic Redundancy Code (CRC) Polynomial Selection For Embedded Networks</em> (Koopman et al., 2004).</p>
<p>8-bit is quite short, so it works only reliable on short messages. For proper two bit error detection, the message can be 256 bytes. For three bits, messages should only be up to 30 bytes. Use an appropriate <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a> somewhere higher in the stack to accomplish this. Consider using <a class="reference internal" href="#classstored_1_1_crc16_layer"><span class="std std-ref">stored::Crc16Layer</span></a> instead. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored9Crc8LayerUt1_8E">
<span id="_CPPv3N6stored9Crc8LayerUt1_8E"></span><span class="target" id="classstored_1_1_crc8_layer_1aa6db349d07d10b181d62b1988c75c03a"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored9Crc8LayerUt1_8E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored9Crc8LayerUt1_810polynomialE">
<span id="_CPPv3N6stored9Crc8LayerUt1_810polynomialE"></span><span class="target" id="classstored_1_1_crc8_layer_1aa6db349d07d10b181d62b1988c75c03aa14adee897c9ad5499de4c6608c8f78c7"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">polynomial</span></code><a class="headerlink" href="#_CPPv4N6stored9Crc8LayerUt1_810polynomialE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored9Crc8LayerUt1_84initE">
<span id="_CPPv3N6stored9Crc8LayerUt1_84initE"></span><span class="target" id="classstored_1_1_crc8_layer_1aa6db349d07d10b181d62b1988c75c03aa1631c674509e8d7d495cab564f1cd8eb"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">init</span></code><a class="headerlink" href="#_CPPv4N6stored9Crc8LayerUt1_84initE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored9Crc8Layer4baseE">
<span id="_CPPv3N6stored9Crc8Layer4baseE"></span><span id="_CPPv2N6stored9Crc8Layer4baseE"></span><span id="stored::Crc8Layer::base"></span><span class="target" id="classstored_1_1_crc8_layer_1a13eec04e6a1de27ad4c418a8eb023b3c"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer9Crc8LayerERK9Crc8Layer">
<span id="_CPPv3N6stored9Crc8Layer9Crc8LayerERK9Crc8Layer"></span><span id="_CPPv2N6stored9Crc8Layer9Crc8LayerERK9Crc8Layer"></span><span id="stored::Crc8Layer::Crc8Layer__Crc8LayerCR"></span><span class="target" id="classstored_1_1_crc8_layer_1a5f87d2e04db6efb8d91e72d89266ef73"></span><code class="sig-name descname"><span class="pre">Crc8Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9Crc8Layer9Crc8LayerERK9Crc8Layer" title="stored::Crc8Layer::Crc8Layer"><span class="pre">Crc8Layer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer9Crc8LayerERK9Crc8Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer9Crc8LayerERR9Crc8Layer">
<span id="_CPPv3N6stored9Crc8Layer9Crc8LayerERR9Crc8Layer"></span><span id="_CPPv2N6stored9Crc8Layer9Crc8LayerERR9Crc8Layer"></span><span id="stored::Crc8Layer::Crc8Layer__Crc8LayerRR"></span><span class="target" id="classstored_1_1_crc8_layer_1a5dfb97825c37d82e1b4517b8a84b19b8"></span><code class="sig-name descname"><span class="pre">Crc8Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9Crc8Layer9Crc8LayerERR9Crc8Layer" title="stored::Crc8Layer::Crc8Layer"><span class="pre">Crc8Layer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer9Crc8LayerERR9Crc8Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer9Crc8LayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored9Crc8Layer9Crc8LayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored9Crc8Layer9Crc8LayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::Crc8Layer::Crc8Layer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_crc8_layer_1a7921554b093428c40cc19bb0c910afcc"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">Crc8Layer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer9Crc8LayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8LayerD0Ev">
<span id="_CPPv3N6stored9Crc8LayerD0Ev"></span><span id="_CPPv2N6stored9Crc8LayerD0Ev"></span><span id="stored::Crc8Layer::~Crc8Layer"></span><span class="target" id="classstored_1_1_crc8_layer_1a70da4defe96323a84a456fba27538c8e"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~Crc8Layer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored9Crc8LayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer6decodeEPv6size_t">
<span id="_CPPv3N6stored9Crc8Layer6decodeEPv6size_t"></span><span id="_CPPv2N6stored9Crc8Layer6decodeEPv6size_t"></span><span id="stored::Crc8Layer::decode__voidP.s"></span><span class="target" id="classstored_1_1_crc8_layer_1a53910dd8cb7f74db64011b5918c8c52a"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored9Crc8Layer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored9Crc8Layer6encodeEPKv6size_tb"></span><span id="stored::Crc8Layer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_crc8_layer_1a5181019b72aefb28daee0cd8889daab2"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored9Crc8Layer3mtuEv">
<span id="_CPPv3NK6stored9Crc8Layer3mtuEv"></span><span id="_CPPv2NK6stored9Crc8Layer3mtuEv"></span><span id="stored::Crc8Layer::mtuC"></span><span class="target" id="classstored_1_1_crc8_layer_1ac3bb509c6ebf1a8c9c98f4985ea91bde"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored9Crc8Layer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8LayeraSERK9Crc8Layer">
<span id="_CPPv3N6stored9Crc8LayeraSERK9Crc8Layer"></span><span id="_CPPv2N6stored9Crc8LayeraSERK9Crc8Layer"></span><span id="stored::Crc8Layer::assign-operator__Crc8LayerCR"></span><span class="target" id="classstored_1_1_crc8_layer_1a81f8ba5d3ddfa8f34806bdc3f532e20b"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9Crc8LayerE" title="stored::Crc8Layer"><span class="pre">Crc8Layer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9Crc8LayeraSERK9Crc8Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8LayeraSERR9Crc8Layer">
<span id="_CPPv3N6stored9Crc8LayeraSERR9Crc8Layer"></span><span id="_CPPv2N6stored9Crc8LayeraSERR9Crc8Layer"></span><span id="stored::Crc8Layer::assign-operator__Crc8LayerRR"></span><span class="target" id="classstored_1_1_crc8_layer_1a3165f6ecbefbb142fe8505b83ff8bc27"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9Crc8LayerE" title="stored::Crc8Layer"><span class="pre">Crc8Layer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9Crc8LayeraSERR9Crc8Layer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9Crc8Layer5resetEv">
<span id="_CPPv3N6stored9Crc8Layer5resetEv"></span><span id="_CPPv2N6stored9Crc8Layer5resetEv"></span><span id="stored::Crc8Layer::reset"></span><span class="target" id="classstored_1_1_crc8_layer_1af9a6cc6ac539027ee452c485611ec0ac"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9Crc8Layer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-debugarqlayer">
<h2>stored::DebugArqLayer<a class="headerlink" href="#stored-debugarqlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored13DebugArqLayerE">
<span id="_CPPv3N6stored13DebugArqLayerE"></span><span id="_CPPv2N6stored13DebugArqLayerE"></span><span id="stored::DebugArqLayer"></span><span class="target" id="classstored_1_1_debug_arq_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">DebugArqLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A layer that performs Automatic Repeat Request operations on messages for <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a>. </p>
<p>Only apply this layer on <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a>, as it assumes a REQ/REP mechanism. For a general purpose ARQ, use <a class="reference internal" href="#classstored_1_1_arq_layer"><span class="std std-ref">stored::ArqLayer</span></a>.</p>
<p>This layer allows messages that are lost, to be retransmitted on both the request and response side. The implementation assumes that lost message is possible, but rare. It optimizes on the normal case that message arrive. Retransmits may be relatively expensive.</p>
<p>Messages must be either lost or arrive correctly. Make sure to do checksumming in the layer below. Moreover, you might want the <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a> on top of this layer to make sure that packets have a deterministic (small) size.</p>
<p>Every message is prefixed with a sequence number in the range 0-0x7ffffff. Sequence numbers are normally incremented after every message. It can wrap around, but if it does, 0 should be skipped. So, the next sequence number after 0x7ffffff is 1.</p>
<p>This sequence number is encoded like VLQ (Variable-length quantity, see <a class="reference external" href="https://en.wikipedia.org/wiki/Variable-length_quantity">https://en.wikipedia.org/wiki/Variable-length_quantity</a>), with the exception that the most significant bit of the first byte is a reset flag. So, the prefix is one to four bytes.</p>
<p>A request (to be received by the target) transmits every chunk with increasing sequence number. When the target has received all messages of the request (probably determined by a <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a> on top), the request is executed and the response is sent. When everything is OK, the next request can be sent, continuing with the sequence number. There should be no gap in these numbers.</p>
<p>The client can decide to reset the sequence numbers. To do this, send a message with only the new sequence number that the client will use from now on, but with the reset flag set. There is no payload. The target will respond with a message containing 0x80 (and no further payload). This can be used to recover the connection if the client lost track of the sequence numbers (e.g., it restarted). After this reset operation, the next request shall use the sequence number used to reset + 1. The response will start with sequence number 1.</p>
<p>Individual messages are not ACKed, like TCP does. If the client does not receive a response to its request, either the request or the response has been lost. In any case, it has to resend its full request, using the same sequence numbers as used with the first attempt. The target will (re)send its response. There is no timeout specified. Use a timeout value that fits the infrastructure of your device. There is no limit in how often a retransmit can occur.</p>
<p>The application has limited buffering. So, neither the request nor the full response may be buffered for (partial) retransmission. Therefore, it may be the case that when the response was lost, the request is reexecuted. It is up to the buffer size as specified in <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">DebugArqLayer</span></a>’s constructor and <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a> to determine when it is safe or required to reexected upon every retransmit. For example, writes are not reexecuted, as a write may have unexpected side-effects, while it is safe to reexecute a read of a normal variable. When the directory is requested, the response is often too long to buffer, and the response is constant, so it is not buffered either and just reexecuted. Note that if the buffer is too small, reading from a stream (s command) will do a destructive read, but this data may be lost if the response is lost. Configure the stream size and <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">DebugArqLayer</span></a>’s buffer appropriate if that is unacceptable for you.</p>
<p>Because of this limited buffering, the response may reset the sequence numbers more often. Upon retransmission of the same data, the same sequence numbers are used, just like the retransmission of the request. However, if the data may have been changed, as the response was not buffered and the request was reexecuted, the reset flag is set of the first response message, while it has a new sequence number. The client should accept this new sequence number and discard all previously collected response messages.</p>
<p>Within one request or response, the same sequence number should be used twice; even if the request or response is very long. Worst-case, when there is only one payload byte per message, this limits the request and response to 128 MB. As the payload is allowed to be of any size, this should not be a real limitation in practice.</p>
<p>This protocol is verified by the Promela model in tests/DebugArqLayer.pml. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored13DebugArqLayer4baseE">
<span id="_CPPv3N6stored13DebugArqLayer4baseE"></span><span id="_CPPv2N6stored13DebugArqLayer4baseE"></span><span id="stored::DebugArqLayer::base"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a76eb5880b8905b436890d5c3672a6f64"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer13DebugArqLayerERK13DebugArqLayer">
<span id="_CPPv3N6stored13DebugArqLayer13DebugArqLayerERK13DebugArqLayer"></span><span id="_CPPv2N6stored13DebugArqLayer13DebugArqLayerERK13DebugArqLayer"></span><span id="stored::DebugArqLayer::DebugArqLayer__DebugArqLayerCR"></span><span class="target" id="classstored_1_1_debug_arq_layer_1ab96014cb5967321bc4d06871d5f7a727"></span><code class="sig-name descname"><span class="pre">DebugArqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugArqLayer13DebugArqLayerERK13DebugArqLayer" title="stored::DebugArqLayer::DebugArqLayer"><span class="pre">DebugArqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer13DebugArqLayerERK13DebugArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer13DebugArqLayerERR13DebugArqLayer">
<span id="_CPPv3N6stored13DebugArqLayer13DebugArqLayerERR13DebugArqLayer"></span><span id="_CPPv2N6stored13DebugArqLayer13DebugArqLayerERR13DebugArqLayer"></span><span id="stored::DebugArqLayer::DebugArqLayer__DebugArqLayerRR"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a37510a828feff4ac87b23bd9a882cacc"></span><code class="sig-name descname"><span class="pre">DebugArqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugArqLayer13DebugArqLayerERR13DebugArqLayer" title="stored::DebugArqLayer::DebugArqLayer"><span class="pre">DebugArqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer13DebugArqLayerERR13DebugArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer13DebugArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored13DebugArqLayer13DebugArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored13DebugArqLayer13DebugArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::DebugArqLayer::DebugArqLayer__s.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a3b233392e7f1d2094789656d5c7f672d"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">DebugArqLayer</span></code><span class="sig-paren">(</span><span class="pre">size_t</span> <em><span class="pre">maxEncodeBuffer</span></em> <span class="pre">=</span> <span class="pre">0</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer13DebugArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayerD0Ev">
<span id="_CPPv3N6stored13DebugArqLayerD0Ev"></span><span id="_CPPv2N6stored13DebugArqLayerD0Ev"></span><span id="stored::DebugArqLayer::~DebugArqLayer"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a3e1fa759205732459521e6ebf3043849"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~DebugArqLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored13DebugArqLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored13DebugArqLayer6decodeEPv6size_t"></span><span id="stored::DebugArqLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a2dc5a377d6c5f636cd0e3cf4343ddea4"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored13DebugArqLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored13DebugArqLayer6encodeEPKv6size_tb"></span><span id="stored::DebugArqLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_debug_arq_layer_1af737904b1c5650a91dd00b7e21176d05"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13DebugArqLayer3mtuEv">
<span id="_CPPv3NK6stored13DebugArqLayer3mtuEv"></span><span id="_CPPv2NK6stored13DebugArqLayer3mtuEv"></span><span id="stored::DebugArqLayer::mtuC"></span><span class="target" id="classstored_1_1_debug_arq_layer_1adb2ab020fb7e6aeca00c97be9545ced7"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored13DebugArqLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayeraSERR13DebugArqLayer">
<span id="_CPPv3N6stored13DebugArqLayeraSERR13DebugArqLayer"></span><span id="_CPPv2N6stored13DebugArqLayeraSERR13DebugArqLayer"></span><span id="stored::DebugArqLayer::assign-operator__DebugArqLayerRR"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a10a27e10049ecabaebd8e5dcbe2d1b9f"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugArqLayerE" title="stored::DebugArqLayer"><span class="pre">DebugArqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayeraSERR13DebugArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayeraSERK13DebugArqLayer">
<span id="_CPPv3N6stored13DebugArqLayeraSERK13DebugArqLayer"></span><span id="_CPPv2N6stored13DebugArqLayeraSERK13DebugArqLayer"></span><span id="stored::DebugArqLayer::assign-operator__DebugArqLayerCR"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a186fe2cb78d4e78cdd9d43260d0c1418"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugArqLayerE" title="stored::DebugArqLayer"><span class="pre">DebugArqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayeraSERK13DebugArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer5resetEv">
<span id="_CPPv3N6stored13DebugArqLayer5resetEv"></span><span id="_CPPv2N6stored13DebugArqLayer5resetEv"></span><span id="stored::DebugArqLayer::reset"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a6b16bc8ebeb3d6e2bc3fa2fd42a82998"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugArqLayer20setPurgeableResponseEb">
<span id="_CPPv3N6stored13DebugArqLayer20setPurgeableResponseEb"></span><span id="_CPPv2N6stored13DebugArqLayer20setPurgeableResponseEb"></span><span id="stored::DebugArqLayer::setPurgeableResponse__b"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a036abba40a16df72e93b9fd9a9251bbb"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setPurgeableResponse</span></code><span class="sig-paren">(</span><span class="pre">bool</span> <em><span class="pre">purgeable</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer20setPurgeableResponseEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flags the current response as purgeable. </p>
<p>This may influence how a response is handled. Especially, in case of retransmits of lost packets, one may decide to either reexecute the command, or to save the first response and resend it when the command was retransmitted. In that sense, a precious response (default) means that every layer should handle the data with case, as it cannot be recovered once it is lost. When the response is flagged purgeeble, the response may be thrown away after the first try to transmit it to the client.</p>
<p>By default, all responses are precious. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored13DebugArqLayer9ResetFlagE">
<span id="_CPPv3N6stored13DebugArqLayer9ResetFlagE"></span><span id="_CPPv2N6stored13DebugArqLayer9ResetFlagE"></span><span id="stored::DebugArqLayer::ResetFlag__uint8_tC"></span><span class="target" id="classstored_1_1_debug_arq_layer_1a87a309300610933db0afa522a0ae517a"></span><em class="property"><span class="pre">static</span></em> <span class="pre">uint8_t</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">ResetFlag</span></code> <span class="pre">=</span> <span class="pre">0x80</span><a class="headerlink" href="#_CPPv4N6stored13DebugArqLayer9ResetFlagE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-debugzmqlayer">
<h2>stored::DebugZmqLayer<a class="headerlink" href="#stored-debugzmqlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored13DebugZmqLayerE">
<span id="_CPPv3N6stored13DebugZmqLayerE"></span><span id="_CPPv2N6stored13DebugZmqLayerE"></span><span id="stored::DebugZmqLayer"></span><span class="target" id="classstored_1_1_debug_zmq_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">DebugZmqLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><span class="pre">ZmqLayer</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructs a protocol stack on top of a REQ/REP ZeroMQ socket, specifically for the <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored13DebugZmqLayerUt2_25E">
<span id="_CPPv3N6stored13DebugZmqLayerUt2_25E"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1aa0116190fe7eb10dcd299e38d74a53d8"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayerUt2_25E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13DebugZmqLayerUt2_2511DefaultPortE">
<span id="_CPPv3N6stored13DebugZmqLayerUt2_2511DefaultPortE"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1aa0116190fe7eb10dcd299e38d74a53d8a6e3be45d44a117e2006d26f9adef4611"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">DefaultPort</span></code><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayerUt2_2511DefaultPortE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored13DebugZmqLayer4baseE">
<span id="_CPPv3N6stored13DebugZmqLayer4baseE"></span><span id="_CPPv2N6stored13DebugZmqLayer4baseE"></span><span id="stored::DebugZmqLayer::base"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a9197cae99539f25370afcb076ca410f0"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">ZmqLayer</span> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERK13DebugZmqLayer">
<span id="_CPPv3N6stored13DebugZmqLayer13DebugZmqLayerERK13DebugZmqLayer"></span><span id="_CPPv2N6stored13DebugZmqLayer13DebugZmqLayerERK13DebugZmqLayer"></span><span id="stored::DebugZmqLayer::DebugZmqLayer__DebugZmqLayerCR"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1ae838d209e4f884b31b857c38ea693762"></span><code class="sig-name descname"><span class="pre">DebugZmqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERK13DebugZmqLayer" title="stored::DebugZmqLayer::DebugZmqLayer"><span class="pre">DebugZmqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERK13DebugZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERR13DebugZmqLayer">
<span id="_CPPv3N6stored13DebugZmqLayer13DebugZmqLayerERR13DebugZmqLayer"></span><span id="_CPPv2N6stored13DebugZmqLayer13DebugZmqLayerERR13DebugZmqLayer"></span><span id="stored::DebugZmqLayer::DebugZmqLayer__DebugZmqLayerRR"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a6ea004f8ac1c2951e096004e5546a810"></span><code class="sig-name descname"><span class="pre">DebugZmqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERR13DebugZmqLayer" title="stored::DebugZmqLayer::DebugZmqLayer"><span class="pre">DebugZmqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerERR13DebugZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerEPviP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored13DebugZmqLayer13DebugZmqLayerEPviP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored13DebugZmqLayer13DebugZmqLayerEPviP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::DebugZmqLayer::DebugZmqLayer__voidP.i.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a53d99c8a2bf36828686aec34b9175999"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">DebugZmqLayer</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">context</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">int</span> <em><span class="pre">port</span></em> <span class="pre">=</span> <a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayerUt2_2511DefaultPortE" title="stored::DebugZmqLayer::[anonymous]::DefaultPort"><span class="pre">DefaultPort</span></a>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayer13DebugZmqLayerEPviP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructor. </p>
<p>The given <code class="docutils literal notranslate"><span class="pre">port</span></code> used for a REQ/REP socket over TCP. This is the listening side, where a client like the <code class="docutils literal notranslate"><span class="pre">ed2.gui</span></code> can connect to.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayerD0Ev">
<span id="_CPPv3N6stored13DebugZmqLayerD0Ev"></span><span id="_CPPv2N6stored13DebugZmqLayerD0Ev"></span><span id="stored::DebugZmqLayer::~DebugZmqLayer"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a794242ade3ab69336a5a4f55a2bb925c"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~DebugZmqLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayeraSERR13DebugZmqLayer">
<span id="_CPPv3N6stored13DebugZmqLayeraSERR13DebugZmqLayer"></span><span id="_CPPv2N6stored13DebugZmqLayeraSERR13DebugZmqLayer"></span><span id="stored::DebugZmqLayer::assign-operator__DebugZmqLayerRR"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1aaf64cf1d12881e3741c1edf71a8fcdb8"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayerE" title="stored::DebugZmqLayer"><span class="pre">DebugZmqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayeraSERR13DebugZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayeraSERK13DebugZmqLayer">
<span id="_CPPv3N6stored13DebugZmqLayeraSERK13DebugZmqLayer"></span><span id="_CPPv2N6stored13DebugZmqLayeraSERK13DebugZmqLayer"></span><span id="stored::DebugZmqLayer::assign-operator__DebugZmqLayerCR"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a88252ed0ec1151afe30d7c6d03844309"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13DebugZmqLayerE" title="stored::DebugZmqLayer"><span class="pre">DebugZmqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayeraSERK13DebugZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13DebugZmqLayer4recvEl">
<span id="_CPPv3N6stored13DebugZmqLayer4recvEl"></span><span id="_CPPv2N6stored13DebugZmqLayer4recvEl"></span><span id="stored::DebugZmqLayer::recv__l"></span><span class="target" id="classstored_1_1_debug_zmq_layer_1a5bf4a78f80f8dfb760c45402c4378636"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13DebugZmqLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive all available data from the ZeroMQ REP socket, and <a class="reference internal" href="#classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"><span class="std std-ref">decode()</span></a> it. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timeout_us</span></code>: if zero, this function does not block. -1 blocks indefinitely. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-doublepipelayer">
<h2>stored::DoublePipeLayer<a class="headerlink" href="#stored-doublepipelayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored15DoublePipeLayerE">
<span id="_CPPv3N6stored15DoublePipeLayerE"></span><span id="_CPPv2N6stored15DoublePipeLayerE"></span><span id="stored::DoublePipeLayer"></span><span class="target" id="classstored_1_1_double_pipe_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">DoublePipeLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Server end of a pair of named pipes. </p>
<p>This is like <a class="reference internal" href="#classstored_1_1_named_pipe_layer"><span class="std std-ref">NamedPipeLayer</span></a>, but it uses to unidirectional pipes instead of one bidirectional. </p>
<p>Subclassed by <a class="reference internal" href="#classstored_1_1_xsim_layer"><span class="std std-ref">stored::XsimLayer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored15DoublePipeLayer4baseE">
<span id="_CPPv3N6stored15DoublePipeLayer4baseE"></span><span id="_CPPv2N6stored15DoublePipeLayer4baseE"></span><span id="stored::DoublePipeLayer::base"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a138faeb95ee08e709b4d305bfecf83ae"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERK15DoublePipeLayer">
<span id="_CPPv3N6stored15DoublePipeLayer15DoublePipeLayerERK15DoublePipeLayer"></span><span id="_CPPv2N6stored15DoublePipeLayer15DoublePipeLayerERK15DoublePipeLayer"></span><span id="stored::DoublePipeLayer::DoublePipeLayer__DoublePipeLayerCR"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a91e21678256df79912e4f53dfb90dcf8"></span><code class="sig-name descname"><span class="pre">DoublePipeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERK15DoublePipeLayer" title="stored::DoublePipeLayer::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERK15DoublePipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERR15DoublePipeLayer">
<span id="_CPPv3N6stored15DoublePipeLayer15DoublePipeLayerERR15DoublePipeLayer"></span><span id="_CPPv2N6stored15DoublePipeLayer15DoublePipeLayerERR15DoublePipeLayer"></span><span id="stored::DoublePipeLayer::DoublePipeLayer__DoublePipeLayerRR"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a91d3d45ca4a6fe39ff2b5c29ef1479a4"></span><code class="sig-name descname"><span class="pre">DoublePipeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERR15DoublePipeLayer" title="stored::DoublePipeLayer::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerERR15DoublePipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored15DoublePipeLayer15DoublePipeLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored15DoublePipeLayer15DoublePipeLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::DoublePipeLayer::DoublePipeLayer__cCP.cCP.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a797e265ab372d9728f6107b0bbaace7d"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">DoublePipeLayer</span></code><span class="sig-paren">(</span><span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name_r</span></em>, <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name_w</span></em>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer15DoublePipeLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayerD0Ev">
<span id="_CPPv3N6stored15DoublePipeLayerD0Ev"></span><span id="_CPPv2N6stored15DoublePipeLayerD0Ev"></span><span id="stored::DoublePipeLayer::~DoublePipeLayer"></span><span class="target" id="classstored_1_1_double_pipe_layer_1acd724571a0c515cfa3045f839232e272"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~DoublePipeLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored15DoublePipeLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored15DoublePipeLayer6encodeEPKv6size_tb"></span><span id="stored::DoublePipeLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a75b46c15630b953848e3fcbf8e15cf3d"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored15DoublePipeLayer2fdEv">
<span id="_CPPv3NK6stored15DoublePipeLayer2fdEv"></span><span id="_CPPv2NK6stored15DoublePipeLayer2fdEv"></span><span id="stored::DoublePipeLayer::fdC"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a231755678ffd06a3eadc3830cdbf19bd"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">fd_type</span> <code class="sig-name descname"><span class="pre">fd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored15DoublePipeLayer2fdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The file descriptor you may poll before calling <a class="reference internal" href="#classstored_1_1_double_pipe_layer_1a4d8673812dd68a23ae00a0e98c003a21"><span class="std std-ref">recv()</span></a>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored15DoublePipeLayer11isConnectedEv">
<span id="_CPPv3NK6stored15DoublePipeLayer11isConnectedEv"></span><span id="_CPPv2NK6stored15DoublePipeLayer11isConnectedEv"></span><span id="stored::DoublePipeLayer::isConnectedC"></span><span class="target" id="classstored_1_1_double_pipe_layer_1ac3e6c74b4305ef78a327979967238aa3"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isConnected</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored15DoublePipeLayer11isConnectedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if both pipes are connected. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored15DoublePipeLayer6isOpenEv">
<span id="_CPPv3NK6stored15DoublePipeLayer6isOpenEv"></span><span id="_CPPv2NK6stored15DoublePipeLayer6isOpenEv"></span><span id="stored::DoublePipeLayer::isOpenC"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a24a2e4cc5b6505c269238b4ef4685e01"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isOpen</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored15DoublePipeLayer6isOpenEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if the file descriptor is open. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayeraSERK15DoublePipeLayer">
<span id="_CPPv3N6stored15DoublePipeLayeraSERK15DoublePipeLayer"></span><span id="_CPPv2N6stored15DoublePipeLayeraSERK15DoublePipeLayer"></span><span id="stored::DoublePipeLayer::assign-operator__DoublePipeLayerCR"></span><span class="target" id="classstored_1_1_double_pipe_layer_1ab2e2e3b927439b9f2bbe95dcf0a5e3e0"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayerE" title="stored::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayeraSERK15DoublePipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayeraSERR15DoublePipeLayer">
<span id="_CPPv3N6stored15DoublePipeLayeraSERR15DoublePipeLayer"></span><span id="_CPPv2N6stored15DoublePipeLayeraSERR15DoublePipeLayer"></span><span id="stored::DoublePipeLayer::assign-operator__DoublePipeLayerRR"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a07120f7a8bdb0d9a64910227dd0500b3"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayerE" title="stored::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayeraSERR15DoublePipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15DoublePipeLayer4recvEl">
<span id="_CPPv3N6stored15DoublePipeLayer4recvEl"></span><span id="_CPPv2N6stored15DoublePipeLayer4recvEl"></span><span id="stored::DoublePipeLayer::recv__l"></span><span class="target" id="classstored_1_1_double_pipe_layer_1a4d8673812dd68a23ae00a0e98c003a21"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored15DoublePipeLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive and decode data. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an <code class="docutils literal notranslate"><span class="pre">errno</span></code> </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-fifoloopback">
<h2>stored::FifoLoopback<a class="headerlink" href="#stored-fifoloopback" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE">
<span id="_CPPv3I_6size_t_6size_tEN6stored12FifoLoopbackE"></span><span id="_CPPv2I_6size_t_6size_tEN6stored12FifoLoopbackE"></span><span class="pre">template&lt;</span><span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">Capacity</span></code><span class="pre">,</span> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">Messages</span></code> <span class="pre">=</span> <span class="pre">impl</span><span class="pre">::</span><span class="pre">defaultMessages</span><span class="pre">(</span><a class="reference internal" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="stored::FifoLoopback::Capacity"><span class="pre">Capacity</span></a><span class="pre">)</span><span class="pre">&gt;</span><br /><span class="target" id="classstored_1_1_fifo_loopback"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">FifoLoopback</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a><a class="headerlink" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A <a class="reference internal" href="#classstored_1_1_protocol_layer"><span class="std std-ref">ProtocolLayer</span></a> that buffers downstream messages. </p>
<p>To get the messages from the fifo, call <a class="reference internal" href="#classstored_1_1_fifo_loopback_1a91f8b9ce4079e704c6f54a919f8daf79"><span class="std std-ref">recv()</span></a>. If there are any, the are passed upstream. Blocking on a <a class="reference internal" href="#classstored_1_1_fifo_loopback_1a91f8b9ce4079e704c6f54a919f8daf79"><span class="std std-ref">recv()</span></a> is not supported; always use 0 as timeout (no waiting).</p>
<p>This fifo is thread-safe by default. Only <a class="reference internal" href="#classstored_1_1_protocol_layer_1a66c24cec6a17c44fac68213d358a5aa8"><span class="std std-ref">encode()</span></a> messages from one context, and only <a class="reference internal" href="#classstored_1_1_fifo_loopback_1a91f8b9ce4079e704c6f54a919f8daf79"><span class="std std-ref">recv()</span></a> (and therefore <a class="reference internal" href="#classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"><span class="std std-ref">decode()</span></a>) from another context. Do not mix or have multiple encoding/decoding contexts. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored12FifoLoopback4baseE">
<span id="_CPPv3N6stored12FifoLoopback4baseE"></span><span id="_CPPv2N6stored12FifoLoopback4baseE"></span><span id="stored::FifoLoopback::base"></span><span class="target" id="classstored_1_1_fifo_loopback_1a013f499738bae07df38c0170390de41e"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored12FifoLoopback9Fifo_typeE">
<span id="_CPPv3N6stored12FifoLoopback9Fifo_typeE"></span><span id="_CPPv2N6stored12FifoLoopback9Fifo_typeE"></span><span id="stored::FifoLoopback::Fifo_type"></span><span class="target" id="classstored_1_1_fifo_loopback_1a275fe4dd85be2dd302de3618727c8c0e"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="cpp_util.html#_CPPv4I_6size_t_6size_t_bEN6stored11MessageFifoE" title="stored::MessageFifo"><span class="pre">MessageFifo</span></a><span class="pre">&lt;</span><a class="reference internal" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="stored::FifoLoopback::Capacity"><span class="pre">Capacity</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="stored::FifoLoopback::Messages"><span class="pre">Messages</span></a><span class="pre">,</span> <span class="pre">true</span><span class="pre">&gt;</span> <code class="sig-name descname"><span class="pre">Fifo_type</span></code><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback9Fifo_typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopback12FifoLoopbackERK12FifoLoopback">
<span id="_CPPv3N6stored12FifoLoopback12FifoLoopbackERK12FifoLoopback"></span><span id="_CPPv2N6stored12FifoLoopback12FifoLoopbackERK12FifoLoopback"></span><span id="stored::FifoLoopback::FifoLoopback__FifoLoopbackCR"></span><span class="target" id="classstored_1_1_fifo_loopback_1ae601e01828f2b9a9b54f1e63d0bc6713"></span><code class="sig-name descname"><span class="pre">FifoLoopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12FifoLoopback12FifoLoopbackERK12FifoLoopback" title="stored::FifoLoopback::FifoLoopback"><span class="pre">FifoLoopback</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback12FifoLoopbackERK12FifoLoopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopback12FifoLoopbackERR12FifoLoopback">
<span id="_CPPv3N6stored12FifoLoopback12FifoLoopbackERR12FifoLoopback"></span><span id="_CPPv2N6stored12FifoLoopback12FifoLoopbackERR12FifoLoopback"></span><span id="stored::FifoLoopback::FifoLoopback__FifoLoopbackRR"></span><span class="target" id="classstored_1_1_fifo_loopback_1a06e025150d7d60c891a71a4b12584401"></span><code class="sig-name descname"><span class="pre">FifoLoopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12FifoLoopback12FifoLoopbackERR12FifoLoopback" title="stored::FifoLoopback::FifoLoopback"><span class="pre">FifoLoopback</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback12FifoLoopbackERR12FifoLoopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopback12FifoLoopbackEP13ProtocolLayer">
<span id="_CPPv3N6stored12FifoLoopback12FifoLoopbackEP13ProtocolLayer"></span><span id="_CPPv2N6stored12FifoLoopback12FifoLoopbackEP13ProtocolLayer"></span><span id="stored::FifoLoopback::FifoLoopback__ProtocolLayerP"></span><span class="target" id="classstored_1_1_fifo_loopback_1a474eac0d38aaacb2bb6fc006cd6df8dd"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">FifoLoopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback12FifoLoopbackEP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopbackD0Ev">
<span id="_CPPv3N6stored12FifoLoopbackD0Ev"></span><span id="_CPPv2N6stored12FifoLoopbackD0Ev"></span><span id="stored::FifoLoopback::~FifoLoopback"></span><span class="target" id="classstored_1_1_fifo_loopback_1a515d8878a67a8c6365b25f9a321a55e2"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~FifoLoopback</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopbackD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored12FifoLoopback9availableEv">
<span id="_CPPv3NK6stored12FifoLoopback9availableEv"></span><span id="_CPPv2NK6stored12FifoLoopback9availableEv"></span><span id="stored::FifoLoopback::availableC"></span><span class="target" id="classstored_1_1_fifo_loopback_1a3de304ace8471ddb02d3a8ed96b976fa"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">available</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK6stored12FifoLoopback9availableEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored12FifoLoopback7boundedEv">
<span id="_CPPv3NK6stored12FifoLoopback7boundedEv"></span><span id="_CPPv2NK6stored12FifoLoopback7boundedEv"></span><span id="stored::FifoLoopback::boundedCCE"></span><span class="target" id="classstored_1_1_fifo_loopback_1a1ec3dd066abf40cc57c2f9f20997c07b"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">constexpr</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">bounded</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK6stored12FifoLoopback7boundedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored12FifoLoopback5emptyEv">
<span id="_CPPv3NK6stored12FifoLoopback5emptyEv"></span><span id="_CPPv2NK6stored12FifoLoopback5emptyEv"></span><span id="stored::FifoLoopback::emptyC"></span><span class="target" id="classstored_1_1_fifo_loopback_1a842bc46f3dd805f2043c10906aadca4f"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">empty</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK6stored12FifoLoopback5emptyEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopback6encodeEPKv6size_tb">
<span id="_CPPv3N6stored12FifoLoopback6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored12FifoLoopback6encodeEPKv6size_tb"></span><span id="stored::FifoLoopback::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_fifo_loopback_1aa8efa05a5350ea3a5c5e79f0dff80205"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopbackaSERR12FifoLoopback">
<span id="_CPPv3N6stored12FifoLoopbackaSERR12FifoLoopback"></span><span id="_CPPv2N6stored12FifoLoopbackaSERR12FifoLoopback"></span><span id="stored::FifoLoopback::assign-operator__FifoLoopbackRR"></span><span class="target" id="classstored_1_1_fifo_loopback_1aba821a86dc86cabdc7812cfa6b5540c8"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="stored::FifoLoopback"><span class="pre">FifoLoopback</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopbackaSERR12FifoLoopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopbackaSERK12FifoLoopback">
<span id="_CPPv3N6stored12FifoLoopbackaSERK12FifoLoopback"></span><span id="_CPPv2N6stored12FifoLoopbackaSERK12FifoLoopback"></span><span id="stored::FifoLoopback::assign-operator__FifoLoopbackCR"></span><span class="target" id="classstored_1_1_fifo_loopback_1a7c116b85fb7e81182e221e23d16046d0"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_6size_t_6size_tEN6stored12FifoLoopbackE" title="stored::FifoLoopback"><span class="pre">FifoLoopback</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12FifoLoopbackaSERK12FifoLoopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12FifoLoopback4recvEl">
<span id="_CPPv3N6stored12FifoLoopback4recvEl"></span><span id="_CPPv2N6stored12FifoLoopback4recvEl"></span><span id="stored::FifoLoopback::recv__l"></span><span class="target" id="classstored_1_1_fifo_loopback_1a91f8b9ce4079e704c6f54a919f8daf79"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored12FifoLoopback4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive and decode data. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an <code class="docutils literal notranslate"><span class="pre">errno</span></code> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored12FifoLoopback4sizeEv">
<span id="_CPPv3NK6stored12FifoLoopback4sizeEv"></span><span id="_CPPv2NK6stored12FifoLoopback4sizeEv"></span><span id="stored::FifoLoopback::sizeCCE"></span><span class="target" id="classstored_1_1_fifo_loopback_1ac0636a8b64936297f8d054ec87f81127"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">constexpr</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">size</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK6stored12FifoLoopback4sizeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-filelayer">
<h2>stored::FileLayer<a class="headerlink" href="#stored-filelayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored9FileLayerE">
<span id="_CPPv3N6stored9FileLayerE"></span><span id="_CPPv2N6stored9FileLayerE"></span><span id="stored::FileLayer"></span><span class="target" id="classstored_1_1_file_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">FileLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a><a class="headerlink" href="#_CPPv4N6stored9FileLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A layer that reads from and writes to file descriptors. </p>
<p>For POSIX, this applies to everything that is a file descriptor. <code class="docutils literal notranslate"><span class="pre">read()</span></code> and <code class="docutils literal notranslate"><span class="pre">write()</span></code> is done non-blocking, by using a <a class="reference internal" href="#classstored_1_1_poller"><span class="std std-ref">stored::Poller</span></a>.</p>
<p>For Windows, this can only be used for files. See <a class="reference internal" href="#classstored_1_1_named_pipe_layer"><span class="std std-ref">stored::NamedPipeLayer</span></a>. All files reads and writes use overlapped IO, in combination with a <a class="reference internal" href="#classstored_1_1_poller"><span class="std std-ref">stored::Poller</span></a>. The file handle must be opened that way. The implementation always has an overlapped read pending, and checks the corresponding event for completion. Every <code class="docutils literal notranslate"><a class="reference internal" href="#classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"><span class="std std-ref"><span class="pre">decode()</span></span></a></code> triggers an overlapped write. It uses a completion routine, so the thread must be put in an alertable state once in a while (which the <a class="reference internal" href="#classstored_1_1_poller"><span class="std std-ref">stored::Poller</span></a> does when blocking). </p>
<p>Subclassed by <a class="reference internal" href="#classstored_1_1_named_pipe_layer"><span class="std std-ref">stored::NamedPipeLayer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored9FileLayerUt2_11E">
<span id="_CPPv3N6stored9FileLayerUt2_11E"></span><span class="target" id="classstored_1_1_file_layer_1aea65e4dbe7da92cb6d03942f5fb72012"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored9FileLayerUt2_11E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored9FileLayerUt2_1110BufferSizeE">
<span id="_CPPv3N6stored9FileLayerUt2_1110BufferSizeE"></span><span class="target" id="classstored_1_1_file_layer_1aea65e4dbe7da92cb6d03942f5fb72012a2927e7823f567f182fe3f7f28e9f9abf"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">BufferSize</span></code><a class="headerlink" href="#_CPPv4N6stored9FileLayerUt2_1110BufferSizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored9FileLayer4baseE">
<span id="_CPPv3N6stored9FileLayer4baseE"></span><span id="_CPPv2N6stored9FileLayer4baseE"></span><span id="stored::FileLayer::base"></span><span class="target" id="classstored_1_1_file_layer_1ab526cd871079672e8749692d3c935126"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored9FileLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored9FileLayer7fd_typeE">
<span id="_CPPv3N6stored9FileLayer7fd_typeE"></span><span id="_CPPv2N6stored9FileLayer7fd_typeE"></span><span id="stored::FileLayer::fd_type"></span><span class="target" id="classstored_1_1_file_layer_1aab824e395201946b7cdbf8875ef60570"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">int</span> <code class="sig-name descname"><span class="pre">fd_type</span></code><a class="headerlink" href="#_CPPv4N6stored9FileLayer7fd_typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer9FileLayerERK9FileLayer">
<span id="_CPPv3N6stored9FileLayer9FileLayerERK9FileLayer"></span><span id="_CPPv2N6stored9FileLayer9FileLayerERK9FileLayer"></span><span id="stored::FileLayer::FileLayer__FileLayerCR"></span><span class="target" id="classstored_1_1_file_layer_1af0f0a290b2bb5209b825ad8dd29e7ff0"></span><code class="sig-name descname"><span class="pre">FileLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9FileLayer9FileLayerERK9FileLayer" title="stored::FileLayer::FileLayer"><span class="pre">FileLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9FileLayer9FileLayerERK9FileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer9FileLayerERR9FileLayer">
<span id="_CPPv3N6stored9FileLayer9FileLayerERR9FileLayer"></span><span id="_CPPv2N6stored9FileLayer9FileLayerERR9FileLayer"></span><span id="stored::FileLayer::FileLayer__FileLayerRR"></span><span class="target" id="classstored_1_1_file_layer_1ac0a25dc38f54b245ab697d036f55edba"></span><code class="sig-name descname"><span class="pre">FileLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9FileLayer9FileLayerERR9FileLayer" title="stored::FileLayer::FileLayer"><span class="pre">FileLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9FileLayer9FileLayerERR9FileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer9FileLayerEiiP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored9FileLayer9FileLayerEiiP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored9FileLayer9FileLayerEiiP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::FileLayer::FileLayer__i.i.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_file_layer_1acf7e73440e7f9cc631e85c92aa87b031"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">FileLayer</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">fd_r</span></em>, <span class="pre">int</span> <em><span class="pre">fd_w</span></em> <span class="pre">=</span> <span class="pre">-</span><span class="pre">1</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9FileLayer9FileLayerEiiP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor for two already opened file descriptors. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">fd_w</span></code> is -1, <code class="docutils literal notranslate"><span class="pre">fd_r</span></code> is used to write to as well.</p>
<p>Do not use this ctor when inheriting this class.</p>
<p>It sets <a class="reference internal" href="#classstored_1_1_polled_layer_1a5f93b36636abab8f4cacb5f1b4fbcd82"><span class="std std-ref">lastError()</span></a> appropriately. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer9FileLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored9FileLayer9FileLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored9FileLayer9FileLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::FileLayer::FileLayer__cCP.cCP.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_file_layer_1a81f2848546058e8ea14d0b1e123d57e8"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">FileLayer</span></code><span class="sig-paren">(</span><span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name_r</span></em>, <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name_w</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9FileLayer9FileLayerEPKcPKcP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor for two files to be opened. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">name_w</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, <code class="docutils literal notranslate"><span class="pre">name_r</span></code> is used to write to as well. Files are created when required. If the file exists, writing will append data to the file (it is not truncated).</p>
<p>Do not use this ctor when inheriting this class.</p>
<p>It sets <a class="reference internal" href="#classstored_1_1_polled_layer_1a5f93b36636abab8f4cacb5f1b4fbcd82"><span class="std std-ref">lastError()</span></a> appropriately. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayerD0Ev">
<span id="_CPPv3N6stored9FileLayerD0Ev"></span><span id="_CPPv2N6stored9FileLayerD0Ev"></span><span id="stored::FileLayer::~FileLayer"></span><span class="target" id="classstored_1_1_file_layer_1addb5cf9fb3707fa3da6dbf092faa0d82"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~FileLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9FileLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
<p>It calls close_(), not close() as the latter is virtual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored9FileLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored9FileLayer6encodeEPKv6size_tb"></span><span id="stored::FileLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_file_layer_1aa0d6e70fc9ba1a40c1436b055dbdc1e9"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9FileLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required.</p>
<p>Sets <a class="reference internal" href="#classstored_1_1_polled_layer_1a5f93b36636abab8f4cacb5f1b4fbcd82"><span class="std std-ref">lastError()</span></a> appropriately. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored9FileLayer2fdEv">
<span id="_CPPv3NK6stored9FileLayer2fdEv"></span><span id="_CPPv2NK6stored9FileLayer2fdEv"></span><span id="stored::FileLayer::fdC"></span><span class="target" id="classstored_1_1_file_layer_1a58badaa958c01f0f22eaf298788148e8"></span><em class="property"><span class="pre">virtual</span></em> <a class="reference internal" href="#_CPPv4N6stored9FileLayer7fd_typeE" title="stored::FileLayer::fd_type"><span class="pre">fd_type</span></a> <code class="sig-name descname"><span class="pre">fd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored9FileLayer2fdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the file descriptor to be used by a <a class="reference internal" href="#classstored_1_1_poller"><span class="std std-ref">stored::Poller</span></a> in order to call <a class="reference internal" href="#classstored_1_1_file_layer_1a1383d4291a2835c5015bdc2dd4dd53c7"><span class="std std-ref">recv()</span></a>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored9FileLayer6isOpenEv">
<span id="_CPPv3NK6stored9FileLayer6isOpenEv"></span><span id="_CPPv2NK6stored9FileLayer6isOpenEv"></span><span id="stored::FileLayer::isOpenC"></span><span class="target" id="classstored_1_1_file_layer_1a653122ce5a77c5d5999008337bce58b7"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isOpen</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored9FileLayer6isOpenEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if the file descriptors are open. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayeraSERK9FileLayer">
<span id="_CPPv3N6stored9FileLayeraSERK9FileLayer"></span><span id="_CPPv2N6stored9FileLayeraSERK9FileLayer"></span><span id="stored::FileLayer::assign-operator__FileLayerCR"></span><span class="target" id="classstored_1_1_file_layer_1a1876a56860eb4d747f2a77f6c3c81b4a"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9FileLayerE" title="stored::FileLayer"><span class="pre">FileLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9FileLayeraSERK9FileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayeraSERR9FileLayer">
<span id="_CPPv3N6stored9FileLayeraSERR9FileLayer"></span><span id="_CPPv2N6stored9FileLayeraSERR9FileLayer"></span><span id="stored::FileLayer::assign-operator__FileLayerRR"></span><span class="target" id="classstored_1_1_file_layer_1a2053ea3b31ed45d0e7c13017f28f3179"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9FileLayerE" title="stored::FileLayer"><span class="pre">FileLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9FileLayeraSERR9FileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9FileLayer4recvEl">
<span id="_CPPv3N6stored9FileLayer4recvEl"></span><span id="_CPPv2N6stored9FileLayer4recvEl"></span><span id="stored::FileLayer::recv__l"></span><span class="target" id="classstored_1_1_file_layer_1a1383d4291a2835c5015bdc2dd4dd53c7"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9FileLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive data from the file descriptor and forward it for decoding. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an errno </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timeout_us</span></code>: if zero, this function does not block. -1 blocks indefinitely. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-loopback">
<h2>stored::Loopback<a class="headerlink" href="#stored-loopback" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored8LoopbackE">
<span id="_CPPv3N6stored8LoopbackE"></span><span id="_CPPv2N6stored8LoopbackE"></span><span id="stored::Loopback"></span><span class="target" id="classstored_1_1_loopback"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">Loopback</span></code><a class="headerlink" href="#_CPPv4N6stored8LoopbackE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference internal" href="#classstored_1_1_loopback"><span class="std std-ref">Loopback</span></a> between two protocol stacks. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored8Loopback8LoopbackERK8Loopback">
<span id="_CPPv3N6stored8Loopback8LoopbackERK8Loopback"></span><span id="_CPPv2N6stored8Loopback8LoopbackERK8Loopback"></span><span id="stored::Loopback::Loopback__LoopbackCR"></span><span class="target" id="classstored_1_1_loopback_1a26f5377becabea23ff50ff180c52a6d8"></span><code class="sig-name descname"><span class="pre">Loopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8Loopback8LoopbackERK8Loopback" title="stored::Loopback::Loopback"><span class="pre">Loopback</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8Loopback8LoopbackERK8Loopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8Loopback8LoopbackERR8Loopback">
<span id="_CPPv3N6stored8Loopback8LoopbackERR8Loopback"></span><span id="_CPPv2N6stored8Loopback8LoopbackERR8Loopback"></span><span id="stored::Loopback::Loopback__LoopbackRR"></span><span class="target" id="classstored_1_1_loopback_1a912b6ee81d057b976376120c1778b13e"></span><code class="sig-name descname"><span class="pre">Loopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8Loopback8LoopbackERR8Loopback" title="stored::Loopback::Loopback"><span class="pre">Loopback</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8Loopback8LoopbackERR8Loopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8Loopback8LoopbackER13ProtocolLayerR13ProtocolLayer">
<span id="_CPPv3N6stored8Loopback8LoopbackER13ProtocolLayerR13ProtocolLayer"></span><span id="_CPPv2N6stored8Loopback8LoopbackER13ProtocolLayerR13ProtocolLayer"></span><span id="stored::Loopback::Loopback__ProtocolLayerR.ProtocolLayerR"></span><span class="target" id="classstored_1_1_loopback_1ae239087665db4aeee2b4ac4d88769688"></span><code class="sig-name descname"><span class="pre">Loopback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">a</span></em>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8Loopback8LoopbackER13ProtocolLayerR13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructs a bidirectional loopback of stacks <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8LoopbackD0Ev">
<span id="_CPPv3N6stored8LoopbackD0Ev"></span><span id="_CPPv2N6stored8LoopbackD0Ev"></span><span id="stored::Loopback::~Loopback"></span><span class="target" id="classstored_1_1_loopback_1aa9bfaf1e9a97b090ee03af253bb3a2c7"></span><code class="sig-name descname"><span class="pre">~Loopback</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored8LoopbackD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8LoopbackaSERR8Loopback">
<span id="_CPPv3N6stored8LoopbackaSERR8Loopback"></span><span id="_CPPv2N6stored8LoopbackaSERR8Loopback"></span><span id="stored::Loopback::assign-operator__LoopbackRR"></span><span class="target" id="classstored_1_1_loopback_1a62469f5294a9aa4cdd4568f7dae3be9e"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8LoopbackE" title="stored::Loopback"><span class="pre">Loopback</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8LoopbackaSERR8Loopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8LoopbackaSERK8Loopback">
<span id="_CPPv3N6stored8LoopbackaSERK8Loopback"></span><span id="_CPPv2N6stored8LoopbackaSERK8Loopback"></span><span id="stored::Loopback::assign-operator__LoopbackCR"></span><span class="target" id="classstored_1_1_loopback_1a81b5bc523be4f9144e435bf1f83eb625"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8LoopbackE" title="stored::Loopback"><span class="pre">Loopback</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8LoopbackaSERK8Loopback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8Loopback7reserveE6size_t">
<span id="_CPPv3N6stored8Loopback7reserveE6size_t"></span><span id="_CPPv2N6stored8Loopback7reserveE6size_t"></span><span id="stored::Loopback::reserve__s"></span><span class="target" id="classstored_1_1_loopback_1a71314148bad48549b9d4ec5abcdaf4e6"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">reserve</span></code><span class="sig-paren">(</span><span class="pre">size_t</span> <em><span class="pre">capacity</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8Loopback7reserveE6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reserve heap memory to assemble partial messages. </p>
<p>The capacity is allocated twice; one for both directions. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-namedpipelayer">
<h2>stored::NamedPipeLayer<a class="headerlink" href="#stored-namedpipelayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored14NamedPipeLayerE">
<span id="_CPPv3N6stored14NamedPipeLayerE"></span><span id="_CPPv2N6stored14NamedPipeLayerE"></span><span id="stored::NamedPipeLayer"></span><span class="target" id="classstored_1_1_named_pipe_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">NamedPipeLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored9FileLayerE" title="stored::FileLayer"><span class="pre">FileLayer</span></a><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Server end of a named pipe. </p>
<p>This is only for Windows. Just use a <a class="reference internal" href="#classstored_1_1_file_layer_1af0f0a290b2bb5209b825ad8dd29e7ff0"><span class="std std-ref">FileLayer</span></a> with <code class="docutils literal notranslate"><span class="pre">pipe()</span></code> for POSIX.</p>
<p>The client end is easier; it is just a file-like create/open/write/close API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored14NamedPipeLayerUt2_12E">
<span id="_CPPv3N6stored14NamedPipeLayerUt2_12E"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a7ad75b9d4fdd1d9089099e3e60736130"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayerUt2_12E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored14NamedPipeLayerUt2_1210BufferSizeE">
<span id="_CPPv3N6stored14NamedPipeLayerUt2_1210BufferSizeE"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a7ad75b9d4fdd1d9089099e3e60736130a95b2f2194c488d701e80c07be6165338"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">BufferSize</span></code><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayerUt2_1210BufferSizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored14NamedPipeLayer4baseE">
<span id="_CPPv3N6stored14NamedPipeLayer4baseE"></span><span id="_CPPv2N6stored14NamedPipeLayer4baseE"></span><span id="stored::NamedPipeLayer::base"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a98a10251f612b2a31d042761306f9cd7"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored9FileLayerE" title="stored::FileLayer"><span class="pre">FileLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERK14NamedPipeLayer">
<span id="_CPPv3N6stored14NamedPipeLayer14NamedPipeLayerERK14NamedPipeLayer"></span><span id="_CPPv2N6stored14NamedPipeLayer14NamedPipeLayerERK14NamedPipeLayer"></span><span id="stored::NamedPipeLayer::NamedPipeLayer__NamedPipeLayerCR"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a99af137d09eef70c9b7d28ed7b8b8980"></span><code class="sig-name descname"><span class="pre">NamedPipeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERK14NamedPipeLayer" title="stored::NamedPipeLayer::NamedPipeLayer"><span class="pre">NamedPipeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERK14NamedPipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERR14NamedPipeLayer">
<span id="_CPPv3N6stored14NamedPipeLayer14NamedPipeLayerERR14NamedPipeLayer"></span><span id="_CPPv2N6stored14NamedPipeLayer14NamedPipeLayerERR14NamedPipeLayer"></span><span id="stored::NamedPipeLayer::NamedPipeLayer__NamedPipeLayerRR"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a5fbbe13731b21c16ea0211ae82d1704d"></span><code class="sig-name descname"><span class="pre">NamedPipeLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERR14NamedPipeLayer" title="stored::NamedPipeLayer::NamedPipeLayer"><span class="pre">NamedPipeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerERR14NamedPipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerEPKc5DWORDP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored14NamedPipeLayer14NamedPipeLayerEPKc5DWORDP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored14NamedPipeLayer14NamedPipeLayerEPKc5DWORDP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::NamedPipeLayer::NamedPipeLayer__cCP.DWORD.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_named_pipe_layer_1af68a15eed3a59c643125ad9590a9a0cd"></span><code class="sig-name descname"><span class="pre">NamedPipeLayer</span></code><span class="sig-paren">(</span><span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name</span></em>, <span class="pre">DWORD</span> <em><span class="pre">openMode</span></em> <span class="pre">=</span> <span class="pre">PIPE_ACCESS_DUPLEX</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer14NamedPipeLayerEPKc5DWORDP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor for the server part of a named pipe. </p>
<p>The given name is prefixed with <code class="docutils literal notranslate"><span class="pre">\\</span></code>.\pipe. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayerD0Ev">
<span id="_CPPv3N6stored14NamedPipeLayerD0Ev"></span><span id="_CPPv2N6stored14NamedPipeLayerD0Ev"></span><span id="stored::NamedPipeLayer::~NamedPipeLayer"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a15537a86387862e9ae19682c377290bd"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~NamedPipeLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored14NamedPipeLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored14NamedPipeLayer6encodeEPKv6size_tb"></span><span id="stored::NamedPipeLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_named_pipe_layer_1ac01a029021edbb2db24e6ed8340922d2"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required.</p>
<p>Sets <a class="reference internal" href="#classstored_1_1_polled_layer_1a5f93b36636abab8f4cacb5f1b4fbcd82"><span class="std std-ref">lastError()</span></a> appropriately. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored14NamedPipeLayer6handleEv">
<span id="_CPPv3NK6stored14NamedPipeLayer6handleEv"></span><span id="_CPPv2NK6stored14NamedPipeLayer6handleEv"></span><span id="stored::NamedPipeLayer::handleC"></span><span class="target" id="classstored_1_1_named_pipe_layer_1abec74661f339eae9491a9ba158eb874b"></span><span class="pre">HANDLE</span> <code class="sig-name descname"><span class="pre">handle</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored14NamedPipeLayer6handleEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the pipe handle. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored14NamedPipeLayer11isConnectedEv">
<span id="_CPPv3NK6stored14NamedPipeLayer11isConnectedEv"></span><span id="_CPPv2NK6stored14NamedPipeLayer11isConnectedEv"></span><span id="stored::NamedPipeLayer::isConnectedC"></span><span class="target" id="classstored_1_1_named_pipe_layer_1aa829cfd7589c7418c2b9813eaa6ae418"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isConnected</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored14NamedPipeLayer11isConnectedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if the pipe is connected. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored14NamedPipeLayer4nameEv">
<span id="_CPPv3NK6stored14NamedPipeLayer4nameEv"></span><span id="_CPPv2NK6stored14NamedPipeLayer4nameEv"></span><span id="stored::NamedPipeLayer::nameC"></span><span class="target" id="classstored_1_1_named_pipe_layer_1a0e56c1ec8a39f005b6d5b6ebaa53683a"></span><span class="pre">std</span><span class="pre">::</span><span class="pre">string</span> <em class="property"><span class="pre">const</span></em> <span class="pre">&amp;</span><code class="sig-name descname"><span class="pre">name</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored14NamedPipeLayer4nameEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the full name of the pipe. </p>
<p>This name can be used to open it elsewhere as a normal file. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayeraSERK14NamedPipeLayer">
<span id="_CPPv3N6stored14NamedPipeLayeraSERK14NamedPipeLayer"></span><span id="_CPPv2N6stored14NamedPipeLayeraSERK14NamedPipeLayer"></span><span id="stored::NamedPipeLayer::assign-operator__NamedPipeLayerCR"></span><span class="target" id="classstored_1_1_named_pipe_layer_1aed1718701bc235fc7ffe3e60f6473636"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored14NamedPipeLayerE" title="stored::NamedPipeLayer"><span class="pre">NamedPipeLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayeraSERK14NamedPipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayeraSERR14NamedPipeLayer">
<span id="_CPPv3N6stored14NamedPipeLayeraSERR14NamedPipeLayer"></span><span id="_CPPv2N6stored14NamedPipeLayeraSERR14NamedPipeLayer"></span><span id="stored::NamedPipeLayer::assign-operator__NamedPipeLayerRR"></span><span class="target" id="classstored_1_1_named_pipe_layer_1ad77f33da4e31d8a7cbc2c2780e9e6962"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored14NamedPipeLayerE" title="stored::NamedPipeLayer"><span class="pre">NamedPipeLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayeraSERR14NamedPipeLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored14NamedPipeLayer4recvEl">
<span id="_CPPv3N6stored14NamedPipeLayer4recvEl"></span><span id="_CPPv2N6stored14NamedPipeLayer4recvEl"></span><span id="stored::NamedPipeLayer::recv__l"></span><span class="target" id="classstored_1_1_named_pipe_layer_1adf4280b91f407b0fcb33787ac1598cd2"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">final</span></em><a class="headerlink" href="#_CPPv4N6stored14NamedPipeLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive data from the file descriptor and forward it for decoding. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an errno </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timeout_us</span></code>: if zero, this function does not block. -1 blocks indefinitely. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-poller">
<h2>stored::Poller<a class="headerlink" href="#stored-poller" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored6PollerE">
<span id="_CPPv3N6stored6PollerE"></span><span id="_CPPv2N6stored6PollerE"></span><span id="stored::Poller"></span><span class="target" id="classstored_1_1_poller"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">Poller</span></code><a class="headerlink" href="#_CPPv4N6stored6PollerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A generic way of <code class="docutils literal notranslate"><a class="reference internal" href="#classstored_1_1_poller_1a34425a048a7959779ae5ec1df09c633d"><span class="std std-ref"><span class="pre">poll()</span></span></a></code> for any blockable resource. </p>
<p>Depending on the platform, different poll strategies are automatically chosen:</p>
<p><ul class="simple">
<li><p>STORED_POLL_WFMO (Windows without Zth): Block using <code class="docutils literal notranslate"><span class="pre">WaitForMultipleObjectEx()</span></code> in alertable state.</p></li>
<li><p>STORED_POLL_ZTH_WFMO (Windows with Zth): Non-blocking call to <code class="docutils literal notranslate"><span class="pre">WaitForMultipleObjectEx()</span></code> by the zth::Waiter.</p></li>
<li><p>STORED_POLL_ZTH (Non-Windows with Zth, without ZMQ): rely on zth::poll(), which uses the OS’s <code class="docutils literal notranslate"><span class="pre">poll</span></code>()</p></li>
<li><p>STORED_POLL_ZTH_LOOP (Bare metal with Zth): call stored::poll_once() by zth::Waiter</p></li>
<li><p>STORED_POLL_ZMQ (Non-Windows without Zth, with ZMQ): rely on <code class="docutils literal notranslate"><span class="pre">zmq_poll()</span></code> </p></li>
<li><p>STORED_POLL_LOOP (Bare metal without Zth): busy-wait calling stored::poll_once()</p></li>
<li><p>STORED_POLL_POLL (Non-Windows without Zth and ZMQ): rely on OS’s poll()</p></li>
</ul>
</p>
<p>Auto-detect is bypassed when one of the macros above is defined.</p>
<p>To use the poller, basically do this:</p>
<p><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Poller poller;

// Pick some user_data you can recognize.
poller.add(fd1, &amp;fd1, Poller::PollIn);
poller.add(fd2, &amp;fd2, Poller::PollOut);

while(true) {
    auto const&amp; res = poller.poll();

    for(auto it : res) {
        if(it-&gt;user_data == &amp;fd1)
            read(fd1, ...);
        if(it-&gt;user_data == &amp;fd2)
            write(fd2, ...)
    }
}
</pre></div>
</div>
 </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored6Poller8events_tE">
<span id="_CPPv3N6stored6Poller8events_tE"></span><span id="_CPPv2N6stored6Poller8events_tE"></span><span id="stored::Poller::events_t"></span><span class="target" id="classstored_1_1_poller_1a6d543d60c57a87422fdda7b8ea299b84"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">unsigned</span> <span class="pre">short</span> <code class="sig-name descname"><span class="pre">events_t</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller8events_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored6Poller6ResultE">
<span id="_CPPv3N6stored6Poller6ResultE"></span><span id="_CPPv2N6stored6Poller6ResultE"></span><span id="stored::Poller::Result"></span><span class="target" id="classstored_1_1_poller_1a28a96951d17fc9795ec7f81ad931dc0e"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">std</span><span class="pre">::</span><span class="pre">vector</span><span class="pre">&lt;</span><span class="pre">zmq_poller_event_t</span><span class="pre">&gt;</span> <code class="sig-name descname"><span class="pre">Result</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller6ResultE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6PollerERK6Poller">
<span id="_CPPv3N6stored6Poller6PollerERK6Poller"></span><span id="_CPPv2N6stored6Poller6PollerERK6Poller"></span><span id="stored::Poller::Poller__PollerCR"></span><span class="target" id="classstored_1_1_poller_1aecda735138002c3c137a923b359a65d0"></span><code class="sig-name descname"><span class="pre">Poller</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller6PollerERK6Poller" title="stored::Poller::Poller"><span class="pre">Poller</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored6Poller6PollerERK6Poller" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6PollerERR6Poller">
<span id="_CPPv3N6stored6Poller6PollerERR6Poller"></span><span id="_CPPv2N6stored6Poller6PollerERR6Poller"></span><span id="stored::Poller::Poller__PollerRR"></span><span class="target" id="classstored_1_1_poller_1af570b68395bf5bf785d27254c52b510a"></span><code class="sig-name descname"><span class="pre">Poller</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller6PollerERR6Poller" title="stored::Poller::Poller"><span class="pre">Poller</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored6Poller6PollerERR6Poller" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6PollerEv">
<span id="_CPPv3N6stored6Poller6PollerEv"></span><span id="_CPPv2N6stored6Poller6PollerEv"></span><span id="stored::Poller::Poller"></span><span class="target" id="classstored_1_1_poller_1a233134462a77ec948883512223b4a5a4"></span><code class="sig-name descname"><span class="pre">Poller</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6PollerEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6PollerD0Ev">
<span id="_CPPv3N6stored6PollerD0Ev"></span><span id="_CPPv2N6stored6PollerD0Ev"></span><span id="stored::Poller::~Poller"></span><span class="target" id="classstored_1_1_poller_1ac8b38c20fff8aaf5fecfbe569aea2dcd"></span><code class="sig-name descname"><span class="pre">~Poller</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6PollerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller3addEiPv8events_t">
<span id="_CPPv3N6stored6Poller3addEiPv8events_t"></span><span id="_CPPv2N6stored6Poller3addEiPv8events_t"></span><span id="stored::Poller::add__i.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1a7fe572aa2ac38892434063776cf3b09d"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">fd</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller3addEiPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller3addER15PolledFileLayerPv8events_t">
<span id="_CPPv3N6stored6Poller3addER15PolledFileLayerPv8events_t"></span><span id="_CPPv2N6stored6Poller3addER15PolledFileLayerPv8events_t"></span><span id="stored::Poller::add__PolledFileLayerR.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1a98c1997f19753487ed2828b6a6b07ca6"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">layer</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller3addER15PolledFileLayerPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller3addE6SOCKETPv8events_t">
<span id="_CPPv3N6stored6Poller3addE6SOCKETPv8events_t"></span><span id="_CPPv2N6stored6Poller3addE6SOCKETPv8events_t"></span><span id="stored::Poller::add__SOCKET.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1a7442867e45a39ba960ec732cbd018f51"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><span class="pre">SOCKET</span> <em><span class="pre">socket</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller3addE6SOCKETPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller3addEPvPv8events_t">
<span id="_CPPv3N6stored6Poller3addEPvPv8events_t"></span><span id="_CPPv2N6stored6Poller3addEPvPv8events_t"></span><span id="stored::Poller::add__voidP.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1ac86ec9af74ea099ab3590dd48d1bb387"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">socket</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller3addEPvPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller3addER8ZmqLayerPv8events_t">
<span id="_CPPv3N6stored6Poller3addER8ZmqLayerPv8events_t"></span><span id="_CPPv2N6stored6Poller3addER8ZmqLayerPv8events_t"></span><span id="stored::Poller::add__ZmqLayerR.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1a110069a8bcb78944764f245a7618a1d2"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><span class="pre">ZmqLayer</span> <span class="pre">&amp;</span><em><span class="pre">layer</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller3addER8ZmqLayerPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller4addhE6HANDLEPv8events_t">
<span id="_CPPv3N6stored6Poller4addhE6HANDLEPv8events_t"></span><span id="_CPPv2N6stored6Poller4addhE6HANDLEPv8events_t"></span><span id="stored::Poller::addh__HANDLE.voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1ae52f1af7a09d69fc79bc96f052ed1ad0"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">addh</span></code><span class="sig-paren">(</span><span class="pre">HANDLE</span> <em><span class="pre">handle</span></em>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">user_data</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller4addhE6HANDLEPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6modifyEi8events_t">
<span id="_CPPv3N6stored6Poller6modifyEi8events_t"></span><span id="_CPPv2N6stored6Poller6modifyEi8events_t"></span><span id="stored::Poller::modify__i.events_t"></span><span class="target" id="classstored_1_1_poller_1ac2dbb801ea779dfd0381be27f1114c79"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modify</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">fd</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6modifyEi8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6modifyER15PolledFileLayer8events_t">
<span id="_CPPv3N6stored6Poller6modifyER15PolledFileLayer8events_t"></span><span id="_CPPv2N6stored6Poller6modifyER15PolledFileLayer8events_t"></span><span id="stored::Poller::modify__PolledFileLayerR.events_t"></span><span class="target" id="classstored_1_1_poller_1a06e1a638133d1b4aa9008e6ee413c55b"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modify</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">layer</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6modifyER15PolledFileLayer8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6modifyE6SOCKET8events_t">
<span id="_CPPv3N6stored6Poller6modifyE6SOCKET8events_t"></span><span id="_CPPv2N6stored6Poller6modifyE6SOCKET8events_t"></span><span id="stored::Poller::modify__SOCKET.events_t"></span><span class="target" id="classstored_1_1_poller_1ac280605498d6683650b32a0fc89b379e"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modify</span></code><span class="sig-paren">(</span><span class="pre">SOCKET</span> <em><span class="pre">socket</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6modifyE6SOCKET8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6modifyEPv8events_t">
<span id="_CPPv3N6stored6Poller6modifyEPv8events_t"></span><span id="_CPPv2N6stored6Poller6modifyEPv8events_t"></span><span id="stored::Poller::modify__voidP.events_t"></span><span class="target" id="classstored_1_1_poller_1a5f981d5d1353378d149964b2bec7ade3"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modify</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">socket</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6modifyEPv8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6modifyER8ZmqLayer8events_t">
<span id="_CPPv3N6stored6Poller6modifyER8ZmqLayer8events_t"></span><span id="_CPPv2N6stored6Poller6modifyER8ZmqLayer8events_t"></span><span id="stored::Poller::modify__ZmqLayerR.events_t"></span><span class="target" id="classstored_1_1_poller_1ae5fcd2292e6b2de3b4117f4a25374618"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modify</span></code><span class="sig-paren">(</span><span class="pre">ZmqLayer</span> <span class="pre">&amp;</span><em><span class="pre">layer</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6modifyER8ZmqLayer8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller7modifyhE6HANDLE8events_t">
<span id="_CPPv3N6stored6Poller7modifyhE6HANDLE8events_t"></span><span id="_CPPv2N6stored6Poller7modifyhE6HANDLE8events_t"></span><span id="stored::Poller::modifyh__HANDLE.events_t"></span><span class="target" id="classstored_1_1_poller_1a714cac68f296033c6e0bdab2a2e90d95"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">modifyh</span></code><span class="sig-paren">(</span><span class="pre">HANDLE</span> <em><span class="pre">handle</span></em>, <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em><span class="pre">events</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller7modifyhE6HANDLE8events_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6PolleraSERK6Poller">
<span id="_CPPv3N6stored6PolleraSERK6Poller"></span><span id="_CPPv2N6stored6PolleraSERK6Poller"></span><span id="stored::Poller::assign-operator__PollerCR"></span><span class="target" id="classstored_1_1_poller_1af90e57fb61a555d127dcb38ca7107d21"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored6PollerE" title="stored::Poller"><span class="pre">Poller</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored6PolleraSERK6Poller" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6PolleraSERR6Poller">
<span id="_CPPv3N6stored6PolleraSERR6Poller"></span><span id="_CPPv2N6stored6PolleraSERR6Poller"></span><span id="stored::Poller::assign-operator__PollerRR"></span><span class="target" id="classstored_1_1_poller_1a354f12c85fb3b1bb1842fbbafda7ea15"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored6PollerE" title="stored::Poller"><span class="pre">Poller</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored6PolleraSERR6Poller" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller4pollElb">
<span id="_CPPv3N6stored6Poller4pollElb"></span><span id="_CPPv2N6stored6Poller4pollElb"></span><span id="stored::Poller::poll__l.b"></span><span class="target" id="classstored_1_1_poller_1a34425a048a7959779ae5ec1df09c633d"></span><a class="reference internal" href="#_CPPv4N6stored6Poller6ResultE" title="stored::Poller::Result"><span class="pre">Result</span></a> <em class="property"><span class="pre">const</span></em> <span class="pre">&amp;</span><code class="sig-name descname"><span class="pre">poll</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">-</span><span class="pre">1</span>, <span class="pre">bool</span> <em><span class="pre">suspend</span></em> <span class="pre">=</span> <span class="pre">false</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller4pollElb" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6removeEi">
<span id="_CPPv3N6stored6Poller6removeEi"></span><span id="_CPPv2N6stored6Poller6removeEi"></span><span id="stored::Poller::remove__i"></span><span class="target" id="classstored_1_1_poller_1a04390a8167a3ede3ea54b7d0879bdd1d"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">fd</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6removeEi" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6removeER15PolledFileLayer">
<span id="_CPPv3N6stored6Poller6removeER15PolledFileLayer"></span><span id="_CPPv2N6stored6Poller6removeER15PolledFileLayer"></span><span id="stored::Poller::remove__PolledFileLayerR"></span><span class="target" id="classstored_1_1_poller_1adf6f59370191fa9f63235d358833fc63"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">layer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6removeER15PolledFileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6removeE6SOCKET">
<span id="_CPPv3N6stored6Poller6removeE6SOCKET"></span><span id="_CPPv2N6stored6Poller6removeE6SOCKET"></span><span id="stored::Poller::remove__SOCKET"></span><span class="target" id="classstored_1_1_poller_1ac4fd79d753648c56274b110eb6f69d73"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><span class="pre">SOCKET</span> <em><span class="pre">socket</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6removeE6SOCKET" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6removeEPv">
<span id="_CPPv3N6stored6Poller6removeEPv"></span><span id="_CPPv2N6stored6Poller6removeEPv"></span><span id="stored::Poller::remove__voidP"></span><span class="target" id="classstored_1_1_poller_1aee283fdb826dab35c740ba5d4c1ab92c"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">socket</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6removeEPv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller6removeER8ZmqLayer">
<span id="_CPPv3N6stored6Poller6removeER8ZmqLayer"></span><span id="_CPPv2N6stored6Poller6removeER8ZmqLayer"></span><span id="stored::Poller::remove__ZmqLayerR"></span><span class="target" id="classstored_1_1_poller_1a91ee4d3e30e4cbf482d6eae40d85299b"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">remove</span></code><span class="sig-paren">(</span><span class="pre">ZmqLayer</span> <span class="pre">&amp;</span><em><span class="pre">layer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller6removeER8ZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller7removehE6HANDLE">
<span id="_CPPv3N6stored6Poller7removehE6HANDLE"></span><span id="_CPPv2N6stored6Poller7removehE6HANDLE"></span><span id="stored::Poller::removeh__HANDLE"></span><span class="target" id="classstored_1_1_poller_1aa10776948d077584199ae0b34f9a53e7"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">removeh</span></code><span class="sig-paren">(</span><span class="pre">HANDLE</span> <em><span class="pre">handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller7removehE6HANDLE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller7PollErrE">
<span id="_CPPv3N6stored6Poller7PollErrE"></span><span id="_CPPv2N6stored6Poller7PollErrE"></span><span id="stored::Poller::PollErr__events_tC"></span><span class="target" id="classstored_1_1_poller_1a540da5e0b855335235527e751eb704c4"></span><em class="property"><span class="pre">static</span></em> <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">PollErr</span></code> <span class="pre">=</span> <span class="pre">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a><span class="pre">)</span><span class="pre">ZMQ_POLLERR</span><a class="headerlink" href="#_CPPv4N6stored6Poller7PollErrE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller7PollHupE">
<span id="_CPPv3N6stored6Poller7PollHupE"></span><span id="_CPPv2N6stored6Poller7PollHupE"></span><span id="stored::Poller::PollHup__events_tC"></span><span class="target" id="classstored_1_1_poller_1aaae1953951626d294a17b65164794d92"></span><em class="property"><span class="pre">static</span></em> <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">PollHup</span></code> <span class="pre">=</span> <span class="pre">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a><span class="pre">)</span><span class="pre">POLLHUP</span><a class="headerlink" href="#_CPPv4N6stored6Poller7PollHupE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller6PollInE">
<span id="_CPPv3N6stored6Poller6PollInE"></span><span id="_CPPv2N6stored6Poller6PollInE"></span><span id="stored::Poller::PollIn__events_tC"></span><span class="target" id="classstored_1_1_poller_1a64dc1f4e5440d90ddaa1c971ed636fac"></span><em class="property"><span class="pre">static</span></em> <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">PollIn</span></code> <span class="pre">=</span> <span class="pre">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a><span class="pre">)</span><span class="pre">ZMQ_POLLIN</span><a class="headerlink" href="#_CPPv4N6stored6Poller6PollInE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller7PollOutE">
<span id="_CPPv3N6stored6Poller7PollOutE"></span><span id="_CPPv2N6stored6Poller7PollOutE"></span><span id="stored::Poller::PollOut__events_tC"></span><span class="target" id="classstored_1_1_poller_1a563ec33f78322f6d39047dae05df0a4c"></span><em class="property"><span class="pre">static</span></em> <a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">PollOut</span></code> <span class="pre">=</span> <span class="pre">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller8events_tE" title="stored::Poller::events_t"><span class="pre">events_t</span></a><span class="pre">)</span><span class="pre">ZMQ_POLLOUT</span><a class="headerlink" href="#_CPPv4N6stored6Poller7PollOutE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp class">
<dt id="_CPPv4N6stored6Poller5EventE">
<span id="_CPPv3N6stored6Poller5EventE"></span><span id="_CPPv2N6stored6Poller5EventE"></span><span id="stored::Poller::Event"></span><span class="target" id="classstored_1_1_poller_1_1_event"></span><em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">Event</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5EventE" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored6Poller5Event4TypeE">
<span id="_CPPv3N6stored6Poller5Event4TypeE"></span><span id="_CPPv2N6stored6Poller5Event4TypeE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241"></span><em class="property"><span class="pre">enum</span> </em><code class="sig-name descname"><span class="pre">Type</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4TypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored6Poller5Event4Type8TypeNoneE">
<span id="_CPPv3N6stored6Poller5Event4Type8TypeNoneE"></span><span id="_CPPv2N6stored6Poller5Event4Type8TypeNoneE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241a90df8dcd38c93865136a88f67f60506d"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">TypeNone</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4Type8TypeNoneE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored6Poller5Event4Type6TypeFdE">
<span id="_CPPv3N6stored6Poller5Event4Type6TypeFdE"></span><span id="_CPPv2N6stored6Poller5Event4Type6TypeFdE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241ad582b13b2d091e54211e72a1f1a52841"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">TypeFd</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4Type6TypeFdE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored6Poller5Event4Type19TypePolledFileLayerE">
<span id="_CPPv3N6stored6Poller5Event4Type19TypePolledFileLayerE"></span><span id="_CPPv2N6stored6Poller5Event4Type19TypePolledFileLayerE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241aa7a17d2c182e2f5494f2f8d886be0c19"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">TypePolledFileLayer</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4Type19TypePolledFileLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored6Poller5Event4Type11TypeZmqSockE">
<span id="_CPPv3N6stored6Poller5Event4Type11TypeZmqSockE"></span><span id="_CPPv2N6stored6Poller5Event4Type11TypeZmqSockE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241a908f88b721970da908e1e173f38534e2"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">TypeZmqSock</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4Type11TypeZmqSockE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored6Poller5Event4Type7TypeZmqE">
<span id="_CPPv3N6stored6Poller5Event4Type7TypeZmqE"></span><span id="_CPPv2N6stored6Poller5Event4Type7TypeZmqE"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a4df9a82324b347bf2441cf2f6a7ef241ab59b85cc5305505a20c131f8087fedea"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">TypeZmq</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4Type7TypeZmqE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller5Event5EventEv">
<span id="_CPPv3N6stored6Poller5Event5EventEv"></span><span id="_CPPv2N6stored6Poller5Event5EventEv"></span><span id="stored::Poller::Event::Event"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a622e9fee586f6cdf818ec17da037d168"></span><em class="property"><span class="pre">inline</span></em> <code class="sig-name descname"><span class="pre">Event</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller5Event5EventEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored6Poller5Event5EventEiz">
<span id="_CPPv3N6stored6Poller5Event5EventEiz"></span><span id="_CPPv2N6stored6Poller5Event5EventEiz"></span><span id="stored::Poller::Event::Event__i.z"></span><span class="target" id="classstored_1_1_poller_1_1_event_1aebdaf94f2ebac666b16bd4e0be710cba"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">Event</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">type</span></em>, <span class="pre">...</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored6Poller5Event5EventEiz" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored6Poller5EventeqERK5Event">
<span id="_CPPv3NK6stored6Poller5EventeqERK5Event"></span><span id="_CPPv2NK6stored6Poller5EventeqERK5Event"></span><span id="stored::Poller::Event::eq-operator__EventCRC"></span><span class="target" id="classstored_1_1_poller_1_1_event_1aa1a617a9d278347a71d510e117e1e0a3"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">operator==</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored6Poller5EventE" title="stored::Poller::Event"><span class="pre">Event</span></a> <em class="property"><span class="pre">const</span></em> <span class="pre">&amp;</span><em><span class="pre">e</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored6Poller5EventeqERK5Event" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5EventUt1_3E">
<span id="_CPPv3N6stored6Poller5EventUt1_3E"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a634c9e0d45bc1783ca1d7cdc5520b543"></span><em class="property"><span class="pre">union</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored6PollerE" title="stored::Poller"><span class="pre">Poller</span></a><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored6Poller5EventE" title="stored::Poller::Event"><span class="pre">Event</span></a><span class="pre">::</span><strong><span class="pre">[anonymous]</span></strong> <strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored6Poller5EventUt1_3E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5Event2fdE">
<span id="_CPPv3N6stored6Poller5Event2fdE"></span><span id="_CPPv2N6stored6Poller5Event2fdE"></span><span id="stored::Poller::Event::fd__i"></span><span class="target" id="classstored_1_1_poller_1_1_event_1ae671dd7882e4bd5c6abbf0039d9eac63"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">fd</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event2fdE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5Event15polledFileLayerE">
<span id="_CPPv3N6stored6Poller5Event15polledFileLayerE"></span><span id="_CPPv2N6stored6Poller5Event15polledFileLayerE"></span><span id="stored::Poller::Event::polledFileLayer__PolledFileLayerP"></span><span class="target" id="classstored_1_1_poller_1_1_event_1aaa27fd33523832e8067bd0a28701e188"></span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <span class="pre">*</span><code class="sig-name descname"><span class="pre">polledFileLayer</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event15polledFileLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5Event4typeE">
<span id="_CPPv3N6stored6Poller5Event4typeE"></span><span id="_CPPv2N6stored6Poller5Event4typeE"></span><span id="stored::Poller::Event::type__Type"></span><span class="target" id="classstored_1_1_poller_1_1_event_1a6a2727b1fcebcc654b00c2d45274f7e7"></span><a class="reference internal" href="#_CPPv4N6stored6Poller5Event4TypeE" title="stored::Poller::Event::Type"><span class="pre">Type</span></a> <code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event4typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5Event3zmqE">
<span id="_CPPv3N6stored6Poller5Event3zmqE"></span><span id="_CPPv2N6stored6Poller5Event3zmqE"></span><span id="stored::Poller::Event::zmq__ZmqLayerP"></span><span class="target" id="classstored_1_1_poller_1_1_event_1abf4572ae1c039c6e2997136ef8d62330"></span><span class="pre">ZmqLayer</span> <span class="pre">*</span><code class="sig-name descname"><span class="pre">zmq</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event3zmqE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored6Poller5Event7zmqsockE">
<span id="_CPPv3N6stored6Poller5Event7zmqsockE"></span><span id="_CPPv2N6stored6Poller5Event7zmqsockE"></span><span id="stored::Poller::Event::zmqsock__voidP"></span><span class="target" id="classstored_1_1_poller_1_1_event_1aa41585d24dffcb992f0866e3e553f341"></span><span class="pre">void</span> <span class="pre">*</span><code class="sig-name descname"><span class="pre">zmqsock</span></code><a class="headerlink" href="#_CPPv4N6stored6Poller5Event7zmqsockE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stored-printlayer">
<h2>stored::PrintLayer<a class="headerlink" href="#stored-printlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored10PrintLayerE">
<span id="_CPPv3N6stored10PrintLayerE"></span><span id="_CPPv2N6stored10PrintLayerE"></span><span id="stored::PrintLayer"></span><span class="target" id="classstored_1_1_print_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">PrintLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored10PrintLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints all messages to a <code class="docutils literal notranslate"><span class="pre">FILE</span></code>. </p>
<p>Messages are printed on a line. Decoded message start with &lt;, encoded messages with &gt;, partial encoded messages with *.</p>
<p>Mainly for debugging purposes. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored10PrintLayer4baseE">
<span id="_CPPv3N6stored10PrintLayer4baseE"></span><span id="_CPPv2N6stored10PrintLayer4baseE"></span><span id="stored::PrintLayer::base"></span><span class="target" id="classstored_1_1_print_layer_1a1b035a7a19360fd18357e08c651a4cdc"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored10PrintLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer10PrintLayerERK10PrintLayer">
<span id="_CPPv3N6stored10PrintLayer10PrintLayerERK10PrintLayer"></span><span id="_CPPv2N6stored10PrintLayer10PrintLayerERK10PrintLayer"></span><span id="stored::PrintLayer::PrintLayer__PrintLayerCR"></span><span class="target" id="classstored_1_1_print_layer_1aa77d727ebfa1e502f9383ab717b9724d"></span><code class="sig-name descname"><span class="pre">PrintLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10PrintLayer10PrintLayerERK10PrintLayer" title="stored::PrintLayer::PrintLayer"><span class="pre">PrintLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayer10PrintLayerERK10PrintLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer10PrintLayerERR10PrintLayer">
<span id="_CPPv3N6stored10PrintLayer10PrintLayerERR10PrintLayer"></span><span id="_CPPv2N6stored10PrintLayer10PrintLayerERR10PrintLayer"></span><span id="stored::PrintLayer::PrintLayer__PrintLayerRR"></span><span class="target" id="classstored_1_1_print_layer_1ab8abf8e3c27330ee0fa2f595d6a94b19"></span><code class="sig-name descname"><span class="pre">PrintLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10PrintLayer10PrintLayerERR10PrintLayer" title="stored::PrintLayer::PrintLayer"><span class="pre">PrintLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayer10PrintLayerERR10PrintLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer10PrintLayerEP4FILEPKcP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored10PrintLayer10PrintLayerEP4FILEPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored10PrintLayer10PrintLayerEP4FILEPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::PrintLayer::PrintLayer__FILEP.cCP.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_print_layer_1a7ed0289ba08ea88ce711354ffef603a6"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">PrintLayer</span></code><span class="sig-paren">(</span><span class="pre">FILE</span> <span class="pre">*</span><em><span class="pre">f</span></em> <span class="pre">=</span> <span class="pre">stdout</span>, <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">name</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayer10PrintLayerEP4FILEPKcP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructor to print all decoding/encoding messages to the given <code class="docutils literal notranslate"><span class="pre">FILE</span></code>. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">f</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, printing is suppressed. The name is used as prefix of the printed messages.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#classstored_1_1_print_layer_1aea312a1d43697789e614a761927288f9"><span class="std std-ref">setFile()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayerD0Ev">
<span id="_CPPv3N6stored10PrintLayerD0Ev"></span><span id="_CPPv2N6stored10PrintLayerD0Ev"></span><span id="stored::PrintLayer::~PrintLayer"></span><span class="target" id="classstored_1_1_print_layer_1aeada8ebb9ae4a3f72c9a2944112ee564"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~PrintLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored10PrintLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored10PrintLayer6decodeEPv6size_t"></span><span id="stored::PrintLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_print_layer_1af92198162e84a80d70afbd76143df369"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10PrintLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored10PrintLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored10PrintLayer6encodeEPKv6size_tb"></span><span id="stored::PrintLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_print_layer_1a226eb9431e9d6a646fb120258d30717d"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10PrintLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayeraSERR10PrintLayer">
<span id="_CPPv3N6stored10PrintLayeraSERR10PrintLayer"></span><span id="_CPPv2N6stored10PrintLayeraSERR10PrintLayer"></span><span id="stored::PrintLayer::assign-operator__PrintLayerRR"></span><span class="target" id="classstored_1_1_print_layer_1a1e0b7dca0828825c0e34476983d3f2a9"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10PrintLayerE" title="stored::PrintLayer"><span class="pre">PrintLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayeraSERR10PrintLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayeraSERK10PrintLayer">
<span id="_CPPv3N6stored10PrintLayeraSERK10PrintLayer"></span><span id="_CPPv2N6stored10PrintLayeraSERK10PrintLayer"></span><span id="stored::PrintLayer::assign-operator__PrintLayerCR"></span><span class="target" id="classstored_1_1_print_layer_1a08845fffbe46d15c836eb4d28f37ccdb"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10PrintLayerE" title="stored::PrintLayer"><span class="pre">PrintLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayeraSERK10PrintLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10PrintLayer7setFileEP4FILE">
<span id="_CPPv3N6stored10PrintLayer7setFileEP4FILE"></span><span id="_CPPv2N6stored10PrintLayer7setFileEP4FILE"></span><span id="stored::PrintLayer::setFile__FILEP"></span><span class="target" id="classstored_1_1_print_layer_1aea312a1d43697789e614a761927288f9"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">setFile</span></code><span class="sig-paren">(</span><span class="pre">FILE</span> <span class="pre">*</span><em><span class="pre">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored10PrintLayer7setFileEP4FILE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the <code class="docutils literal notranslate"><span class="pre">FILE</span></code> to write to. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: the <code class="docutils literal notranslate"><span class="pre">FILE</span></code>, set to <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> to disable output </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-segmentationlayer">
<h2>stored::SegmentationLayer<a class="headerlink" href="#stored-segmentationlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored17SegmentationLayerE">
<span id="_CPPv3N6stored17SegmentationLayerE"></span><span id="_CPPv2N6stored17SegmentationLayerE"></span><span id="stored::SegmentationLayer"></span><span class="target" id="classstored_1_1_segmentation_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">SegmentationLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A layer that performs segmentation of the messages. </p>
<p>Messages to be encoded are split with a maximum chunk size (MTU). At the end of each chunk, either <a class="reference internal" href="#classstored_1_1_segmentation_layer_1a36b6e6bf8545558a5e1c95c9a3bbcd27"><span class="std std-ref">ContinueMarker</span></a> or the <a class="reference internal" href="#classstored_1_1_segmentation_layer_1a85ac4ba426a9e49f2f8c1d14785bcc24"><span class="std std-ref">EndMarker</span></a> is inserted, depending of this was the last chunk. Incoming messages are reassembled until the <a class="reference internal" href="#classstored_1_1_segmentation_layer_1a85ac4ba426a9e49f2f8c1d14785bcc24"><span class="std std-ref">EndMarker</span></a> is encountered.</p>
<p>This layer assumes a lossless channel; all messages are received in order. If that is not the case for your transport, wrap this layer in the <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">stored::DebugArqLayer</span></a> or <a class="reference internal" href="#classstored_1_1_arq_layer"><span class="std std-ref">stored::ArqLayer</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored17SegmentationLayer4baseE">
<span id="_CPPv3N6stored17SegmentationLayer4baseE"></span><span id="_CPPv2N6stored17SegmentationLayer4baseE"></span><span id="stored::SegmentationLayer::base"></span><span class="target" id="classstored_1_1_segmentation_layer_1a3843bb7c02a848cf6f2f427731572edd"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer17SegmentationLayerERK17SegmentationLayer">
<span id="_CPPv3N6stored17SegmentationLayer17SegmentationLayerERK17SegmentationLayer"></span><span id="_CPPv2N6stored17SegmentationLayer17SegmentationLayerERK17SegmentationLayer"></span><span id="stored::SegmentationLayer::SegmentationLayer__SegmentationLayerCR"></span><span class="target" id="classstored_1_1_segmentation_layer_1aba07293a3674e525d3ee929eebd3db10"></span><code class="sig-name descname"><span class="pre">SegmentationLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored17SegmentationLayer17SegmentationLayerERK17SegmentationLayer" title="stored::SegmentationLayer::SegmentationLayer"><span class="pre">SegmentationLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer17SegmentationLayerERK17SegmentationLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer17SegmentationLayerERR17SegmentationLayer">
<span id="_CPPv3N6stored17SegmentationLayer17SegmentationLayerERR17SegmentationLayer"></span><span id="_CPPv2N6stored17SegmentationLayer17SegmentationLayerERR17SegmentationLayer"></span><span id="stored::SegmentationLayer::SegmentationLayer__SegmentationLayerRR"></span><span class="target" id="classstored_1_1_segmentation_layer_1a475c908b5b2a0aa9c7f929fa8974c9e3"></span><code class="sig-name descname"><span class="pre">SegmentationLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored17SegmentationLayer17SegmentationLayerERR17SegmentationLayer" title="stored::SegmentationLayer::SegmentationLayer"><span class="pre">SegmentationLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer17SegmentationLayerERR17SegmentationLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer17SegmentationLayerE6size_tP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored17SegmentationLayer17SegmentationLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored17SegmentationLayer17SegmentationLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::SegmentationLayer::SegmentationLayer__s.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_segmentation_layer_1a792bbe3ab3e8c859078e654fbff856ab"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">SegmentationLayer</span></code><span class="sig-paren">(</span><span class="pre">size_t</span> <em><span class="pre">mtu</span></em> <span class="pre">=</span> <span class="pre">0</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer17SegmentationLayerE6size_tP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayerD0Ev">
<span id="_CPPv3N6stored17SegmentationLayerD0Ev"></span><span id="_CPPv2N6stored17SegmentationLayerD0Ev"></span><span id="stored::SegmentationLayer::~SegmentationLayer"></span><span class="target" id="classstored_1_1_segmentation_layer_1ac169d87edf16d2ddf16a7c4573829649"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~SegmentationLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored17SegmentationLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored17SegmentationLayer6decodeEPv6size_t"></span><span id="stored::SegmentationLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_segmentation_layer_1adee6ee8d098ff67655b36c1ab269d490"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored17SegmentationLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored17SegmentationLayer6encodeEPKv6size_tb"></span><span id="stored::SegmentationLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_segmentation_layer_1a07d8192a0db41389735cb012fc231ba0"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored17SegmentationLayer8lowerMtuEv">
<span id="_CPPv3NK6stored17SegmentationLayer8lowerMtuEv"></span><span id="_CPPv2NK6stored17SegmentationLayer8lowerMtuEv"></span><span id="stored::SegmentationLayer::lowerMtuC"></span><span class="target" id="classstored_1_1_segmentation_layer_1a67b205f77f8a2517e16db48cc052ea27"></span><span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">lowerMtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored17SegmentationLayer8lowerMtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the MTU used to split messages into. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored17SegmentationLayer3mtuEv">
<span id="_CPPv3NK6stored17SegmentationLayer3mtuEv"></span><span id="_CPPv2NK6stored17SegmentationLayer3mtuEv"></span><span id="stored::SegmentationLayer::mtuC"></span><span class="target" id="classstored_1_1_segmentation_layer_1a5cd64512cd57378cf25bd2890266919a"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">final</span></em><a class="headerlink" href="#_CPPv4NK6stored17SegmentationLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayeraSERK17SegmentationLayer">
<span id="_CPPv3N6stored17SegmentationLayeraSERK17SegmentationLayer"></span><span id="_CPPv2N6stored17SegmentationLayeraSERK17SegmentationLayer"></span><span id="stored::SegmentationLayer::assign-operator__SegmentationLayerCR"></span><span class="target" id="classstored_1_1_segmentation_layer_1a4501316fb6d63ff74e1ef3e22c391c88"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored17SegmentationLayerE" title="stored::SegmentationLayer"><span class="pre">SegmentationLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayeraSERK17SegmentationLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayeraSERR17SegmentationLayer">
<span id="_CPPv3N6stored17SegmentationLayeraSERR17SegmentationLayer"></span><span id="_CPPv2N6stored17SegmentationLayeraSERR17SegmentationLayer"></span><span id="stored::SegmentationLayer::assign-operator__SegmentationLayerRR"></span><span class="target" id="classstored_1_1_segmentation_layer_1a608c41a2f2335bdde2587b6047c2ee8b"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored17SegmentationLayerE" title="stored::SegmentationLayer"><span class="pre">SegmentationLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayeraSERR17SegmentationLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored17SegmentationLayer5resetEv">
<span id="_CPPv3N6stored17SegmentationLayer5resetEv"></span><span id="_CPPv2N6stored17SegmentationLayer5resetEv"></span><span id="stored::SegmentationLayer::reset"></span><span class="target" id="classstored_1_1_segmentation_layer_1a3d4b430c6dab20da295fb67dacf5451a"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored17SegmentationLayer14ContinueMarkerE">
<span id="_CPPv3N6stored17SegmentationLayer14ContinueMarkerE"></span><span id="_CPPv2N6stored17SegmentationLayer14ContinueMarkerE"></span><span id="stored::SegmentationLayer::ContinueMarker__cC"></span><span class="target" id="classstored_1_1_segmentation_layer_1a36b6e6bf8545558a5e1c95c9a3bbcd27"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">ContinueMarker</span></code> <span class="pre">=</span> <span class="pre">'C'</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer14ContinueMarkerE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored17SegmentationLayer9EndMarkerE">
<span id="_CPPv3N6stored17SegmentationLayer9EndMarkerE"></span><span id="_CPPv2N6stored17SegmentationLayer9EndMarkerE"></span><span id="stored::SegmentationLayer::EndMarker__cC"></span><span class="target" id="classstored_1_1_segmentation_layer_1a85ac4ba426a9e49f2f8c1d14785bcc24"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">EndMarker</span></code> <span class="pre">=</span> <span class="pre">'E'</span><a class="headerlink" href="#_CPPv4N6stored17SegmentationLayer9EndMarkerE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-stdiolayer">
<h2>stored::StdioLayer<a class="headerlink" href="#stored-stdiolayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored10StdioLayerE">
<span id="_CPPv3N6stored10StdioLayerE"></span><span id="_CPPv2N6stored10StdioLayerE"></span><span id="stored::StdioLayer"></span><span class="target" id="classstored_1_1_stdio_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">StdioLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a><a class="headerlink" href="#_CPPv4N6stored10StdioLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A stdin/stdout layer. </p>
<p>Although a Console HANDLE can be read/written as a normal file in Windows, it does not support polling or overlapped IO. Moreover, if stdin/stdout are redirected, the Console becomes a Named Pipe HANDLE. This class handles both.</p>
<p>For POSIX, the <a class="reference internal" href="#classstored_1_1_stdio_layer"><span class="std std-ref">StdioLayer</span></a> is just a <a class="reference internal" href="#classstored_1_1_file_layer"><span class="std std-ref">FileLayer</span></a> with preset stdin/stdout file descriptors. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored10StdioLayerUt2_13E">
<span id="_CPPv3N6stored10StdioLayerUt2_13E"></span><span class="target" id="classstored_1_1_stdio_layer_1a02505284f875740efcfa2462768f8d40"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored10StdioLayerUt2_13E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored10StdioLayerUt2_1310BufferSizeE">
<span id="_CPPv3N6stored10StdioLayerUt2_1310BufferSizeE"></span><span class="target" id="classstored_1_1_stdio_layer_1a02505284f875740efcfa2462768f8d40a8dbcea984489ef993fbf496f10acfacd"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">BufferSize</span></code><a class="headerlink" href="#_CPPv4N6stored10StdioLayerUt2_1310BufferSizeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored10StdioLayer4baseE">
<span id="_CPPv3N6stored10StdioLayer4baseE"></span><span id="_CPPv2N6stored10StdioLayer4baseE"></span><span id="stored::StdioLayer::base"></span><span class="target" id="classstored_1_1_stdio_layer_1aa2f98a9945ef11be4161ebc13c7eca1b"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored10StdioLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored10StdioLayer7fd_typeE">
<span id="_CPPv3N6stored10StdioLayer7fd_typeE"></span><span id="_CPPv2N6stored10StdioLayer7fd_typeE"></span><span id="stored::StdioLayer::fd_type"></span><span class="target" id="classstored_1_1_stdio_layer_1aab824e395201946b7cdbf8875ef60570"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">int</span> <code class="sig-name descname"><span class="pre">fd_type</span></code><a class="headerlink" href="#_CPPv4N6stored10StdioLayer7fd_typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayer10StdioLayerERK10StdioLayer">
<span id="_CPPv3N6stored10StdioLayer10StdioLayerERK10StdioLayer"></span><span id="_CPPv2N6stored10StdioLayer10StdioLayerERK10StdioLayer"></span><span id="stored::StdioLayer::StdioLayer__StdioLayerCR"></span><span class="target" id="classstored_1_1_stdio_layer_1a8b01067593fb46e1ca6a916d12635d32"></span><code class="sig-name descname"><span class="pre">StdioLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10StdioLayer10StdioLayerERK10StdioLayer" title="stored::StdioLayer::StdioLayer"><span class="pre">StdioLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10StdioLayer10StdioLayerERK10StdioLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayer10StdioLayerERR10StdioLayer">
<span id="_CPPv3N6stored10StdioLayer10StdioLayerERR10StdioLayer"></span><span id="_CPPv2N6stored10StdioLayer10StdioLayerERR10StdioLayer"></span><span id="stored::StdioLayer::StdioLayer__StdioLayerRR"></span><span class="target" id="classstored_1_1_stdio_layer_1a4550bee5a2be19b36aa93efc703febb6"></span><code class="sig-name descname"><span class="pre">StdioLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10StdioLayer10StdioLayerERR10StdioLayer" title="stored::StdioLayer::StdioLayer"><span class="pre">StdioLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10StdioLayer10StdioLayerERR10StdioLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayer10StdioLayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored10StdioLayer10StdioLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored10StdioLayer10StdioLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::StdioLayer::StdioLayer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_stdio_layer_1aaedb7ea31f9197b59762dcec975d74a5"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">StdioLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored10StdioLayer10StdioLayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayerD0Ev">
<span id="_CPPv3N6stored10StdioLayerD0Ev"></span><span id="_CPPv2N6stored10StdioLayerD0Ev"></span><span id="stored::StdioLayer::~StdioLayer"></span><span class="target" id="classstored_1_1_stdio_layer_1a9f8a35915c3d0ae87b3f19de23944e20"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~StdioLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10StdioLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored10StdioLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored10StdioLayer6encodeEPKv6size_tb"></span><span id="stored::StdioLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_stdio_layer_1aebb04aa932c5bec1add272fe35f8f3e5"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10StdioLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored10StdioLayer2fdEv">
<span id="_CPPv3NK6stored10StdioLayer2fdEv"></span><span id="_CPPv2NK6stored10StdioLayer2fdEv"></span><span id="stored::StdioLayer::fdC"></span><span class="target" id="classstored_1_1_stdio_layer_1a56051e8a14208cd012c7b9d8163539ea"></span><em class="property"><span class="pre">virtual</span></em> <a class="reference internal" href="#_CPPv4N6stored10StdioLayer7fd_typeE" title="stored::StdioLayer::fd_type"><span class="pre">fd_type</span></a> <code class="sig-name descname"><span class="pre">fd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored10StdioLayer2fdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The file descriptor you may poll before calling <a class="reference internal" href="#classstored_1_1_stdio_layer_1a1265212568866ed1c6b8fb748bd47bcb"><span class="std std-ref">recv()</span></a>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored10StdioLayer6isOpenEv">
<span id="_CPPv3NK6stored10StdioLayer6isOpenEv"></span><span id="_CPPv2NK6stored10StdioLayer6isOpenEv"></span><span id="stored::StdioLayer::isOpenC"></span><span class="target" id="classstored_1_1_stdio_layer_1a12c8644c3dcb0cffd48f95e264b9198a"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isOpen</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored10StdioLayer6isOpenEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if the file descriptor is open. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored10StdioLayer8isPipeInEv">
<span id="_CPPv3NK6stored10StdioLayer8isPipeInEv"></span><span id="_CPPv2NK6stored10StdioLayer8isPipeInEv"></span><span id="stored::StdioLayer::isPipeInC"></span><span class="target" id="classstored_1_1_stdio_layer_1a9df892c4c0194f0c7be7b7cd81c6f81b"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isPipeIn</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored10StdioLayer8isPipeInEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored10StdioLayer9isPipeOutEv">
<span id="_CPPv3NK6stored10StdioLayer9isPipeOutEv"></span><span id="_CPPv2NK6stored10StdioLayer9isPipeOutEv"></span><span id="stored::StdioLayer::isPipeOutC"></span><span class="target" id="classstored_1_1_stdio_layer_1a0abd608e1b5bad5b74041a762e88525c"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isPipeOut</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored10StdioLayer9isPipeOutEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayeraSERR10StdioLayer">
<span id="_CPPv3N6stored10StdioLayeraSERR10StdioLayer"></span><span id="_CPPv2N6stored10StdioLayeraSERR10StdioLayer"></span><span id="stored::StdioLayer::assign-operator__StdioLayerRR"></span><span class="target" id="classstored_1_1_stdio_layer_1aa1ad27feeed2578bde2a44c6c30465da"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10StdioLayerE" title="stored::StdioLayer"><span class="pre">StdioLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10StdioLayeraSERR10StdioLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayeraSERK10StdioLayer">
<span id="_CPPv3N6stored10StdioLayeraSERK10StdioLayer"></span><span id="_CPPv2N6stored10StdioLayeraSERK10StdioLayer"></span><span id="stored::StdioLayer::assign-operator__StdioLayerCR"></span><span class="target" id="classstored_1_1_stdio_layer_1aeae830b5caaaccd8b1e0ee33e651a8ae"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored10StdioLayerE" title="stored::StdioLayer"><span class="pre">StdioLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored10StdioLayeraSERK10StdioLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored10StdioLayer4recvEl">
<span id="_CPPv3N6stored10StdioLayer4recvEl"></span><span id="_CPPv2N6stored10StdioLayer4recvEl"></span><span id="stored::StdioLayer::recv__l"></span><span class="target" id="classstored_1_1_stdio_layer_1a1265212568866ed1c6b8fb748bd47bcb"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored10StdioLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive and decode data. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an <code class="docutils literal notranslate"><span class="pre">errno</span></code> </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-synczmqlayer">
<h2>stored::SyncZmqLayer<a class="headerlink" href="#stored-synczmqlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored12SyncZmqLayerE">
<span id="_CPPv3N6stored12SyncZmqLayerE"></span><span id="_CPPv2N6stored12SyncZmqLayerE"></span><span id="stored::SyncZmqLayer"></span><span class="target" id="classstored_1_1_sync_zmq_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">SyncZmqLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><span class="pre">ZmqLayer</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructs a protocol stack on top of a PAIR ZeroMQ socket, specifically for the <a class="reference internal" href="cpp_synchronizer.html#classstored_1_1_synchronizer"><span class="std std-ref">stored::Synchronizer</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored12SyncZmqLayer4baseE">
<span id="_CPPv3N6stored12SyncZmqLayer4baseE"></span><span id="_CPPv2N6stored12SyncZmqLayer4baseE"></span><span id="stored::SyncZmqLayer::base"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1a3923724fa5ad232ce75734db9d44eabb"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">ZmqLayer</span> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERK12SyncZmqLayer">
<span id="_CPPv3N6stored12SyncZmqLayer12SyncZmqLayerERK12SyncZmqLayer"></span><span id="_CPPv2N6stored12SyncZmqLayer12SyncZmqLayerERK12SyncZmqLayer"></span><span id="stored::SyncZmqLayer::SyncZmqLayer__SyncZmqLayerCR"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1a5b23e68865745cfdd3b45a5e51a3b071"></span><code class="sig-name descname"><span class="pre">SyncZmqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERK12SyncZmqLayer" title="stored::SyncZmqLayer::SyncZmqLayer"><span class="pre">SyncZmqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERK12SyncZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERR12SyncZmqLayer">
<span id="_CPPv3N6stored12SyncZmqLayer12SyncZmqLayerERR12SyncZmqLayer"></span><span id="_CPPv2N6stored12SyncZmqLayer12SyncZmqLayerERR12SyncZmqLayer"></span><span id="stored::SyncZmqLayer::SyncZmqLayer__SyncZmqLayerRR"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1ab3ea130ae45e6a0c84ad7984bbf4e47e"></span><code class="sig-name descname"><span class="pre">SyncZmqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERR12SyncZmqLayer" title="stored::SyncZmqLayer::SyncZmqLayer"><span class="pre">SyncZmqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerERR12SyncZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerEPvPKcbP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored12SyncZmqLayer12SyncZmqLayerEPvPKcbP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored12SyncZmqLayer12SyncZmqLayerEPvPKcbP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::SyncZmqLayer::SyncZmqLayer__voidP.cCP.b.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1abf8d1c6a87614376aaa82230ba9e5a56"></span><code class="sig-name descname"><span class="pre">SyncZmqLayer</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">context</span></em>, <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">endpoint</span></em>, <span class="pre">bool</span> <em><span class="pre">listen</span></em>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayer12SyncZmqLayerEPvPKcbP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructor. </p>
<p>The given <code class="docutils literal notranslate"><span class="pre">endpoint</span></code> is used for a PAIR socket. If <code class="docutils literal notranslate"><span class="pre">listen</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, it binds to the endpoint, otherwise it connects to it.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="cpp_synchronizer.html#classstored_1_1_synchronizer"><span class="std std-ref">stored::Synchronizer</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayerD0Ev">
<span id="_CPPv3N6stored12SyncZmqLayerD0Ev"></span><span id="_CPPv2N6stored12SyncZmqLayerD0Ev"></span><span id="stored::SyncZmqLayer::~SyncZmqLayer"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1aaefafd43488c43485ee482d85fa2d6f4"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~SyncZmqLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em> <span class="pre">=</span> <span class="pre">default</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayeraSERR12SyncZmqLayer">
<span id="_CPPv3N6stored12SyncZmqLayeraSERR12SyncZmqLayer"></span><span id="_CPPv2N6stored12SyncZmqLayeraSERR12SyncZmqLayer"></span><span id="stored::SyncZmqLayer::assign-operator__SyncZmqLayerRR"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1a4cb82ad82b28b7b11ffb09ff8adee4a8"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12SyncZmqLayerE" title="stored::SyncZmqLayer"><span class="pre">SyncZmqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayeraSERR12SyncZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored12SyncZmqLayeraSERK12SyncZmqLayer">
<span id="_CPPv3N6stored12SyncZmqLayeraSERK12SyncZmqLayer"></span><span id="_CPPv2N6stored12SyncZmqLayeraSERK12SyncZmqLayer"></span><span id="stored::SyncZmqLayer::assign-operator__SyncZmqLayerCR"></span><span class="target" id="classstored_1_1_sync_zmq_layer_1aadef7fff3940ae397a2ab5ab2726f821"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored12SyncZmqLayerE" title="stored::SyncZmqLayer"><span class="pre">SyncZmqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored12SyncZmqLayeraSERK12SyncZmqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-terminallayer">
<h2>stored::TerminalLayer<a class="headerlink" href="#stored-terminallayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored13TerminalLayerE">
<span id="_CPPv3N6stored13TerminalLayerE"></span><span id="_CPPv2N6stored13TerminalLayerE"></span><span id="stored::TerminalLayer"></span><span class="target" id="classstored_1_1_terminal_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">TerminalLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored13TerminalLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extracts and injects Embedded <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">Debugger</span></a> messages in a stream of data, such as a terminal. </p>
<p>The frame’s boundaries are marked with APC and ST C1 control characters. </p>
<p>Subclassed by CaseInverter</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored13TerminalLayerUt1_4E">
<span id="_CPPv3N6stored13TerminalLayerUt1_4E"></span><span class="target" id="classstored_1_1_terminal_layer_1afdc10a51a89d7fd8350aca7623e73e99"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored13TerminalLayerUt1_4E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored13TerminalLayerUt1_49MaxBufferE">
<span id="_CPPv3N6stored13TerminalLayerUt1_49MaxBufferE"></span><span class="target" id="classstored_1_1_terminal_layer_1afdc10a51a89d7fd8350aca7623e73e99ac2e5fe6228ece37b246ab755b987f59f"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">MaxBuffer</span></code><a class="headerlink" href="#_CPPv4N6stored13TerminalLayerUt1_49MaxBufferE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored13TerminalLayer4baseE">
<span id="_CPPv3N6stored13TerminalLayer4baseE"></span><span id="_CPPv2N6stored13TerminalLayer4baseE"></span><span id="stored::TerminalLayer::base"></span><span class="target" id="classstored_1_1_terminal_layer_1afd194e848a7d83c42e50a7254cf8a640"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored13TerminalLayer22NonDebugDecodeCallbackE">
<span id="_CPPv3N6stored13TerminalLayer22NonDebugDecodeCallbackE"></span><span id="_CPPv2N6stored13TerminalLayer22NonDebugDecodeCallbackE"></span><span class="target" id="classstored_1_1_terminal_layer_1aee864285bbae09176ff729dae9d7b051"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">NonDebugDecodeCallback</span></code> <span class="pre">=</span> <span class="pre">void</span><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><span class="pre">buf</span>, <span class="pre">size_t</span> <span class="pre">len</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer22NonDebugDecodeCallbackE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer13TerminalLayerERK13TerminalLayer">
<span id="_CPPv3N6stored13TerminalLayer13TerminalLayerERK13TerminalLayer"></span><span id="_CPPv2N6stored13TerminalLayer13TerminalLayerERK13TerminalLayer"></span><span id="stored::TerminalLayer::TerminalLayer__TerminalLayerCR"></span><span class="target" id="classstored_1_1_terminal_layer_1ae159ad7d286f1f1f456f4fe42e9955b7"></span><code class="sig-name descname"><span class="pre">TerminalLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13TerminalLayer13TerminalLayerERK13TerminalLayer" title="stored::TerminalLayer::TerminalLayer"><span class="pre">TerminalLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer13TerminalLayerERK13TerminalLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer13TerminalLayerERR13TerminalLayer">
<span id="_CPPv3N6stored13TerminalLayer13TerminalLayerERR13TerminalLayer"></span><span id="_CPPv2N6stored13TerminalLayer13TerminalLayerERR13TerminalLayer"></span><span id="stored::TerminalLayer::TerminalLayer__TerminalLayerRR"></span><span class="target" id="classstored_1_1_terminal_layer_1aca51711c2c62bc1ccaf6f3d5ba5baf1f"></span><code class="sig-name descname"><span class="pre">TerminalLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13TerminalLayer13TerminalLayerERR13TerminalLayer" title="stored::TerminalLayer::TerminalLayer"><span class="pre">TerminalLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer13TerminalLayerERR13TerminalLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer"></span><span class="pre">template&lt;</span><span class="pre">typename</span> <code class="sig-name descname"><span class="pre">F</span></code><span class="pre">,</span> <span class="pre">SFINAE_IS_FUNCTION</span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer" title="stored::TerminalLayer::TerminalLayer::F"><span class="pre">F</span></a>, <a class="reference internal" href="#_CPPv4N6stored13TerminalLayer22NonDebugDecodeCallbackE" title="stored::TerminalLayer::NonDebugDecodeCallback"><span class="pre">NonDebugDecodeCallback</span></a>, <span class="pre">int</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">0</span><span class="pre">&gt;</span><br /><span class="target" id="classstored_1_1_terminal_layer_1ac6c3e9caf382d8662e20d240e7293b83"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">TerminalLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer" title="stored::TerminalLayer::TerminalLayer::F"><span class="pre">F</span></a> <span class="pre">&amp;</span><span class="pre">&amp;</span><em><span class="pre">cb</span></em>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0_F18SFINAE_IS_FUNCTION1F22NonDebugDecodeCallbackiEEN6stored13TerminalLayer13TerminalLayerERR1FP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer13TerminalLayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored13TerminalLayer13TerminalLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored13TerminalLayer13TerminalLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::TerminalLayer::TerminalLayer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_terminal_layer_1a9d49899bffb69f90ad0a25ba1b3b017c"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">TerminalLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer13TerminalLayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayerD0Ev">
<span id="_CPPv3N6stored13TerminalLayerD0Ev"></span><span id="_CPPv2N6stored13TerminalLayerD0Ev"></span><span id="stored::TerminalLayer::~TerminalLayer"></span><span class="target" id="classstored_1_1_terminal_layer_1a9c91e6d99a16671d0e78c120288a1bda"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~TerminalLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13TerminalLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
<p>Ties to the layer above and below are nicely removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored13TerminalLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored13TerminalLayer6decodeEPv6size_t"></span><span id="stored::TerminalLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_terminal_layer_1a189c272877b09b93aac1b1ddc96fe58c"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored13TerminalLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored13TerminalLayer6encodeEPKv6size_tb"></span><span id="stored::TerminalLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_terminal_layer_1a8e4eb065c098959fb740a9862cf59164"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13TerminalLayer3mtuEv">
<span id="_CPPv3NK6stored13TerminalLayer3mtuEv"></span><span id="_CPPv2NK6stored13TerminalLayer3mtuEv"></span><span id="stored::TerminalLayer::mtuC"></span><span class="target" id="classstored_1_1_terminal_layer_1a0a19f65b341e78a98dca4f13747fb2a7"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored13TerminalLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer14nonDebugEncodeEPv6size_t">
<span id="_CPPv3N6stored13TerminalLayer14nonDebugEncodeEPv6size_t"></span><span id="_CPPv2N6stored13TerminalLayer14nonDebugEncodeEPv6size_t"></span><span id="stored::TerminalLayer::nonDebugEncode__voidP.s"></span><span class="target" id="classstored_1_1_terminal_layer_1a2a0470a57c3c8065cb28b49d9101d533"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">nonDebugEncode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer14nonDebugEncodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayeraSERR13TerminalLayer">
<span id="_CPPv3N6stored13TerminalLayeraSERR13TerminalLayer"></span><span id="_CPPv2N6stored13TerminalLayeraSERR13TerminalLayer"></span><span id="stored::TerminalLayer::assign-operator__TerminalLayerRR"></span><span class="target" id="classstored_1_1_terminal_layer_1a9d0ada0f0a79116bac64fb4662c537e6"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13TerminalLayerE" title="stored::TerminalLayer"><span class="pre">TerminalLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayeraSERR13TerminalLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayeraSERK13TerminalLayer">
<span id="_CPPv3N6stored13TerminalLayeraSERK13TerminalLayer"></span><span id="_CPPv2N6stored13TerminalLayeraSERK13TerminalLayer"></span><span id="stored::TerminalLayer::assign-operator__TerminalLayerCR"></span><span class="target" id="classstored_1_1_terminal_layer_1a2969d7fd01f719e7afde4cd8e7632cc5"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13TerminalLayerE" title="stored::TerminalLayer"><span class="pre">TerminalLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayeraSERK13TerminalLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13TerminalLayer5resetEv">
<span id="_CPPv3N6stored13TerminalLayer5resetEv"></span><span id="_CPPv2N6stored13TerminalLayer5resetEv"></span><span id="stored::TerminalLayer::reset"></span><span class="target" id="classstored_1_1_terminal_layer_1aa520c45c348439dbf7a56f511bd5ac39"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored13TerminalLayer3EscE">
<span id="_CPPv3N6stored13TerminalLayer3EscE"></span><span id="_CPPv2N6stored13TerminalLayer3EscE"></span><span id="stored::TerminalLayer::Esc__cC"></span><span class="target" id="classstored_1_1_terminal_layer_1a892633ca69a59684c9a964600c0cc181"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">Esc</span></code> <span class="pre">=</span> <span class="pre">'\x1b'</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer3EscE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored13TerminalLayer6EscEndE">
<span id="_CPPv3N6stored13TerminalLayer6EscEndE"></span><span id="_CPPv2N6stored13TerminalLayer6EscEndE"></span><span id="stored::TerminalLayer::EscEnd__cC"></span><span class="target" id="classstored_1_1_terminal_layer_1a16632f9e5395384bc8db6940eb26259f"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">EscEnd</span></code> <span class="pre">=</span> <span class="pre">'\\'</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer6EscEndE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored13TerminalLayer8EscStartE">
<span id="_CPPv3N6stored13TerminalLayer8EscStartE"></span><span id="_CPPv2N6stored13TerminalLayer8EscStartE"></span><span id="stored::TerminalLayer::EscStart__cC"></span><span class="target" id="classstored_1_1_terminal_layer_1a641d9407a8c7517bcbfb3748b86fa43d"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">EscStart</span></code> <span class="pre">=</span> <span class="pre">'_'</span><a class="headerlink" href="#_CPPv4N6stored13TerminalLayer8EscStartE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-xsimlayer">
<h2>stored::XsimLayer<a class="headerlink" href="#stored-xsimlayer" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv4N6stored9XsimLayerE">
<span id="_CPPv3N6stored9XsimLayerE"></span><span id="_CPPv2N6stored9XsimLayerE"></span><span id="stored::XsimLayer"></span><span class="target" id="classstored_1_1_xsim_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">XsimLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayerE" title="stored::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a><a class="headerlink" href="#_CPPv4N6stored9XsimLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XSIM interaction. </p>
<p>It is based on a <a class="reference internal" href="#classstored_1_1_double_pipe_layer"><span class="std std-ref">DoublePipeLayer</span></a>, having two named pipes. In VHDL, normal file read/write can be used to pass data. This class also adds keep alive messages, such that a read from the pipe never blocks (which lets XSIM hang), but gets dummy data.</p>
<p>This keep alive uses a third pipe. XSIM is supposed to forward all data it receives to this third pipe. This way, the C++ side knows how many bytes are in flight, and if XSIM would block on the next one. Based on this counter, keep alive bytes may be injected. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored9XsimLayer4baseE">
<span id="_CPPv3N6stored9XsimLayer4baseE"></span><span id="_CPPv2N6stored9XsimLayer4baseE"></span><span id="stored::XsimLayer::base"></span><span class="target" id="classstored_1_1_xsim_layer_1ab0d2a36e51a3fcdd4ccfca31ccf21c67"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored15DoublePipeLayerE" title="stored::DoublePipeLayer"><span class="pre">DoublePipeLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored9XsimLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer9XsimLayerERK9XsimLayer">
<span id="_CPPv3N6stored9XsimLayer9XsimLayerERK9XsimLayer"></span><span id="_CPPv2N6stored9XsimLayer9XsimLayerERK9XsimLayer"></span><span id="stored::XsimLayer::XsimLayer__XsimLayerCR"></span><span class="target" id="classstored_1_1_xsim_layer_1a48f984a560ff6a10e9ba62cf7ee445f4"></span><code class="sig-name descname"><span class="pre">XsimLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9XsimLayer9XsimLayerERK9XsimLayer" title="stored::XsimLayer::XsimLayer"><span class="pre">XsimLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer9XsimLayerERK9XsimLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer9XsimLayerERR9XsimLayer">
<span id="_CPPv3N6stored9XsimLayer9XsimLayerERR9XsimLayer"></span><span id="_CPPv2N6stored9XsimLayer9XsimLayerERR9XsimLayer"></span><span id="stored::XsimLayer::XsimLayer__XsimLayerRR"></span><span class="target" id="classstored_1_1_xsim_layer_1a6f42f457507ccdce0d58c38eb4254cb5"></span><code class="sig-name descname"><span class="pre">XsimLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9XsimLayer9XsimLayerERR9XsimLayer" title="stored::XsimLayer::XsimLayer"><span class="pre">XsimLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer9XsimLayerERR9XsimLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer9XsimLayerEPKcP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored9XsimLayer9XsimLayerEPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored9XsimLayer9XsimLayerEPKcP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::XsimLayer::XsimLayer__cCP.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_xsim_layer_1a3c9d0feb1dd37875b1df78df12475676"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">XsimLayer</span></code><span class="sig-paren">(</span><span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">pipe_prefix</span></em>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer9XsimLayerEPKcP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayerD0Ev">
<span id="_CPPv3N6stored9XsimLayerD0Ev"></span><span id="_CPPv2N6stored9XsimLayerD0Ev"></span><span id="stored::XsimLayer::~XsimLayer"></span><span class="target" id="classstored_1_1_xsim_layer_1a7c9e041a70f220c4403197160a5e443d"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~XsimLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9XsimLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored9XsimLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored9XsimLayer6encodeEPKv6size_tb"></span><span id="stored::XsimLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_xsim_layer_1aa8b71db5919ba9ecf21b8bf235892aec"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9XsimLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer9keepAliveEv">
<span id="_CPPv3N6stored9XsimLayer9keepAliveEv"></span><span id="_CPPv2N6stored9XsimLayer9keepAliveEv"></span><span id="stored::XsimLayer::keepAlive"></span><span class="target" id="classstored_1_1_xsim_layer_1a14c150b6548cffcfec4fabc0d48b2985"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">keepAlive</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer9keepAliveEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayeraSERR9XsimLayer">
<span id="_CPPv3N6stored9XsimLayeraSERR9XsimLayer"></span><span id="_CPPv2N6stored9XsimLayeraSERR9XsimLayer"></span><span id="stored::XsimLayer::assign-operator__XsimLayerRR"></span><span class="target" id="classstored_1_1_xsim_layer_1a2baa1d5c9e17399ac56330f46b7229c7"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9XsimLayerE" title="stored::XsimLayer"><span class="pre">XsimLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayeraSERR9XsimLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayeraSERK9XsimLayer">
<span id="_CPPv3N6stored9XsimLayeraSERK9XsimLayer"></span><span id="_CPPv2N6stored9XsimLayeraSERK9XsimLayer"></span><span id="stored::XsimLayer::assign-operator__XsimLayerCR"></span><span class="target" id="classstored_1_1_xsim_layer_1a8ec4399d9174f9461b095cab9592911a"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored9XsimLayerE" title="stored::XsimLayer"><span class="pre">XsimLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayeraSERK9XsimLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer4recvEl">
<span id="_CPPv3N6stored9XsimLayer4recvEl"></span><span id="_CPPv2N6stored9XsimLayer4recvEl"></span><span id="stored::XsimLayer::recv__l"></span><span class="target" id="classstored_1_1_xsim_layer_1a71ca3aacf2e97721ddd4bbe583a5432e"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9XsimLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive and decode data. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an <code class="docutils literal notranslate"><span class="pre">errno</span></code> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer3reqEv">
<span id="_CPPv3N6stored9XsimLayer3reqEv"></span><span id="_CPPv2N6stored9XsimLayer3reqEv"></span><span id="stored::XsimLayer::req"></span><span class="target" id="classstored_1_1_xsim_layer_1a59015ac4d5e9ff8f9247243f3d022aa5"></span><a class="reference internal" href="#_CPPv4N6stored14NamedPipeLayerE" title="stored::NamedPipeLayer"><span class="pre">NamedPipeLayer</span></a> <span class="pre">&amp;</span><code class="sig-name descname"><span class="pre">req</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer3reqEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored9XsimLayer5resetEv">
<span id="_CPPv3N6stored9XsimLayer5resetEv"></span><span id="_CPPv2N6stored9XsimLayer5resetEv"></span><span id="stored::XsimLayer::reset"></span><span class="target" id="classstored_1_1_xsim_layer_1aa576cebd914bcec094b5a69bab7c0489"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored9XsimLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored9XsimLayer9KeepAliveE">
<span id="_CPPv3N6stored9XsimLayer9KeepAliveE"></span><span id="_CPPv2N6stored9XsimLayer9KeepAliveE"></span><span id="stored::XsimLayer::KeepAlive__cC"></span><span class="target" id="classstored_1_1_xsim_layer_1a6b0bc488a2c1662b77a0d86159e94936"></span><em class="property"><span class="pre">static</span></em> <span class="pre">char</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">KeepAlive</span></code> <span class="pre">=</span> <span class="pre">'\x16'</span><a class="headerlink" href="#_CPPv4N6stored9XsimLayer9KeepAliveE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="abstract-classes">
<h2>Abstract classes<a class="headerlink" href="#abstract-classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="stored-arqlayer">
<h3>stored::ArqLayer<a class="headerlink" href="#stored-arqlayer" title="Permalink to this headline">¶</a></h3>
<dl class="cpp class">
<dt id="_CPPv4N6stored8ArqLayerE">
<span id="_CPPv3N6stored8ArqLayerE"></span><span id="_CPPv2N6stored8ArqLayerE"></span><span id="stored::ArqLayer"></span><span class="target" id="classstored_1_1_arq_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">ArqLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored8ArqLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A general purpose layer that performs Automatic Repeat Request operations on messages. </p>
<p>This layer does not assume a specific message pattern. For <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a>, use <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">stored::DebugArqLayer</span></a>.</p>
<p>Every message sent has to be acknowledged. There is no window; after sending a message, an ack must be received before continuing. The queue of messages is by default unlimited, but can be set via the constructor. If the limit is hit, the event callback is invoked.</p>
<p>This layer prepends the message with a sequence number byte. The MSb indicates if it is an ack, the 6 LSb are the sequence number. Sequence 0 is special; it resets the connection. It should not be used during normal operation, so the next sequence number after 63 is 1. Message that do not have a payload (so, no <a class="reference internal" href="#classstored_1_1_arq_layer_1aae0973f22504fbff0b98fefec8d53013"><span class="std std-ref">decode()</span></a> has to be invoked upon receival), should set bit 6. This also applies to the reset message.</p>
<p>Retransmits are triggered every time a message is queued for encoding, or when <a class="reference internal" href="#classstored_1_1_arq_layer_1abf63088fb9952dcc6599a023d0491d12"><span class="std std-ref">flush()</span></a> is called. There is no timeout specified.</p>
<p>One may decide to use a <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a> higher in the protocol stack to reduce the amount of data to retransmit when a message is lost (only one segment is retransmitted, not the full message), but this may add the overhead of the sequence number and round-trip time per segment. If the <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a> is used below the <a class="reference internal" href="#classstored_1_1_arq_layer"><span class="std std-ref">ArqLayer</span></a>, normal-case behavior (no packet loss) is most efficient, but the penalty of a retransmit may be higher. It is up to the infrastructure and application requirements what is best.</p>
<p>The layer has no notion of time, or time out for retransmits and acks. The application must call <a class="reference internal" href="#classstored_1_1_arq_layer_1abf63088fb9952dcc6599a023d0491d12"><span class="std std-ref">flush()</span></a> (for the whole stack), or <a class="reference internal" href="#classstored_1_1_arq_layer_1ab1d2c6282a3ecad2e561ddb517421b09"><span class="std std-ref">keepAlive()</span></a> at a regular interval. Every invocation of either function will do a retransmit of the head of the encode queue. If called to often, retransmits may be done before the other party had a change to respond. If called not often enough, retransmits may take long and communication may be slowed down. Either way, it is functionally correct. Determine for you application what is wise to do. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N6stored8ArqLayerUt1_5E">
<span id="_CPPv3N6stored8ArqLayerUt1_5E"></span><span class="target" id="classstored_1_1_arq_layer_1a09b75a835fcf28d77eff854eb93c140d"></span><em class="property"><span class="pre">enum</span> </em><strong><span class="pre">[anonymous]</span></strong><a class="headerlink" href="#_CPPv4N6stored8ArqLayerUt1_5E" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored8ArqLayerUt1_527RetransmitCallbackThresholdE">
<span id="_CPPv3N6stored8ArqLayerUt1_527RetransmitCallbackThresholdE"></span><span class="target" id="classstored_1_1_arq_layer_1a09b75a835fcf28d77eff854eb93c140da39ab31057c8c5eea4f5e0afb1a8fcbc7"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">RetransmitCallbackThreshold</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayerUt1_527RetransmitCallbackThresholdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of successive retransmits before the event is emitted. </p>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored8ArqLayer4baseE">
<span id="_CPPv3N6stored8ArqLayer4baseE"></span><span id="_CPPv2N6stored8ArqLayer4baseE"></span><span id="stored::ArqLayer::base"></span><span class="target" id="classstored_1_1_arq_layer_1af614b4f50851434d0ffa0dc9f7388f20"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N6stored8ArqLayer5EventE">
<span id="_CPPv3N6stored8ArqLayer5EventE"></span><span id="_CPPv2N6stored8ArqLayer5EventE"></span><span class="target" id="classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52"></span><em class="property"><span class="pre">enum</span> </em><code class="sig-name descname"><span class="pre">Event</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5EventE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N6stored8ArqLayer5Event9EventNoneE">
<span id="_CPPv3N6stored8ArqLayer5Event9EventNoneE"></span><span id="_CPPv2N6stored8ArqLayer5Event9EventNoneE"></span><span class="target" id="classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52ad7a25330d281170fe07445ea0b491f05"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">EventNone</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5Event9EventNoneE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>No event. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored8ArqLayer5Event14EventReconnectE">
<span id="_CPPv3N6stored8ArqLayer5Event14EventReconnectE"></span><span id="_CPPv2N6stored8ArqLayer5Event14EventReconnectE"></span><span class="target" id="classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52a695faff43603c7debd9ac61f8b607c99"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">EventReconnect</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5Event14EventReconnectE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>An unexpected reset message has been received. </p>
<p>The reset message remains unanswered, until <a class="reference internal" href="#classstored_1_1_arq_layer_1ab2f83fa2caaab88f9ee29855b3c527a7"><span class="std std-ref">reset()</span></a> is called. The callback function should probably reinitialize the whole stack. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored8ArqLayer5Event25EventEncodeBufferOverflowE">
<span id="_CPPv3N6stored8ArqLayer5Event25EventEncodeBufferOverflowE"></span><span id="_CPPv2N6stored8ArqLayer5Event25EventEncodeBufferOverflowE"></span><span class="target" id="classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52afec9d8b5d2c8fe338525458da4909a48"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">EventEncodeBufferOverflow</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5Event25EventEncodeBufferOverflowE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The maximum buffer capactiy has passed. </p>
<p>The callback may reset the stack to prevent excessive memory usage. Memory allocation will just continue. If no callback function is set (the default), <code class="docutils literal notranslate"><span class="pre">abort()</span></code> is called when this event happens. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N6stored8ArqLayer5Event15EventRetransmitE">
<span id="_CPPv3N6stored8ArqLayer5Event15EventRetransmitE"></span><span id="_CPPv2N6stored8ArqLayer5Event15EventRetransmitE"></span><span class="target" id="classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52a67b425c96fa51d033359fbea7f1c344a"></span><em class="property"><span class="pre">enumerator</span> </em><code class="sig-name descname"><span class="pre">EventRetransmit</span></code><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5Event15EventRetransmitE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference internal" href="#classstored_1_1_arq_layer_1a09b75a835fcf28d77eff854eb93c140da39ab31057c8c5eea4f5e0afb1a8fcbc7"><span class="std std-ref">RetransmitCallbackThreshold</span></a> has been reached on the current message. </p>
<p>This is an indicator that the connection has been lost. </p>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored8ArqLayer13EventCallbackE">
<span id="_CPPv3N6stored8ArqLayer13EventCallbackE"></span><span id="_CPPv2N6stored8ArqLayer13EventCallbackE"></span><span class="target" id="classstored_1_1_arq_layer_1ae9935e268008b6883d444eb119f2d2fa"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">EventCallback</span></code> <span class="pre">=</span> <span class="pre">void</span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayerE" title="stored::ArqLayer"><span class="pre">ArqLayer</span></a><span class="pre">&amp;</span>, <a class="reference internal" href="#_CPPv4N6stored8ArqLayer5EventE" title="stored::ArqLayer::Event"><span class="pre">Event</span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer13EventCallbackE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback type for <a class="reference internal" href="#classstored_1_1_arq_layer_1a021b579df6a03cbf7a7f77098360547d"><span class="std std-ref">setEventCallback(F&amp;&amp;)</span></a>. </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored8ArqLayer16EventCallbackArgE">
<span id="_CPPv3N6stored8ArqLayer16EventCallbackArgE"></span><span id="_CPPv2N6stored8ArqLayer16EventCallbackArgE"></span><span class="target" id="classstored_1_1_arq_layer_1a158a5d4eacc3500c71e3cd965b7b6a47"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">EventCallbackArg</span></code> <span class="pre">=</span> <span class="pre">void</span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayerE" title="stored::ArqLayer"><span class="pre">ArqLayer</span></a><span class="pre">&amp;</span>, <a class="reference internal" href="#_CPPv4N6stored8ArqLayer5EventE" title="stored::ArqLayer::Event"><span class="pre">Event</span></a>, <span class="pre">void</span><span class="pre">*</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer16EventCallbackArgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback type for <a class="reference internal" href="#classstored_1_1_arq_layer_1aea5caae38968fc00bd7de90915a154a8"><span class="std std-ref">setEventCallback(EventCallbackArg*,void*)</span></a>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer8ArqLayerERK8ArqLayer">
<span id="_CPPv3N6stored8ArqLayer8ArqLayerERK8ArqLayer"></span><span id="_CPPv2N6stored8ArqLayer8ArqLayerERK8ArqLayer"></span><span id="stored::ArqLayer::ArqLayer__ArqLayerCR"></span><span class="target" id="classstored_1_1_arq_layer_1a8424408abd1c64b603fef6bf1d2b5052"></span><code class="sig-name descname"><span class="pre">ArqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayer8ArqLayerERK8ArqLayer" title="stored::ArqLayer::ArqLayer"><span class="pre">ArqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer8ArqLayerERK8ArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer8ArqLayerERR8ArqLayer">
<span id="_CPPv3N6stored8ArqLayer8ArqLayerERR8ArqLayer"></span><span id="_CPPv2N6stored8ArqLayer8ArqLayerERR8ArqLayer"></span><span id="stored::ArqLayer::ArqLayer__ArqLayerRR"></span><span class="target" id="classstored_1_1_arq_layer_1a6d4b79b13986e05ff2e2132f734eca2b"></span><code class="sig-name descname"><span class="pre">ArqLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayer8ArqLayerERR8ArqLayer" title="stored::ArqLayer::ArqLayer"><span class="pre">ArqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer8ArqLayerERR8ArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer8ArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored8ArqLayer8ArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored8ArqLayer8ArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::ArqLayer::ArqLayer__s.ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_arq_layer_1a38bd267c41bd6d7fd9b5231b398ac176"></span><em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">ArqLayer</span></code><span class="sig-paren">(</span><span class="pre">size_t</span> <em><span class="pre">maxEncodeBuffer</span></em> <span class="pre">=</span> <span class="pre">0</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer8ArqLayerE6size_tP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ctor. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">maxEncodeBuffer</span></code> is non-zero, it defines the upper limit of the combined length of all queued messages for encoding. If the limit is hit, the <a class="reference internal" href="#classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52afec9d8b5d2c8fe338525458da4909a48"><span class="std std-ref">EventEncodeBufferOverflow</span></a> event is passed to the callback. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayerD0Ev">
<span id="_CPPv3N6stored8ArqLayerD0Ev"></span><span id="_CPPv2N6stored8ArqLayerD0Ev"></span><span id="stored::ArqLayer::~ArqLayer"></span><span class="target" id="classstored_1_1_arq_layer_1afbab2b5061d597434e4e1f6620bb110f"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~ArqLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored8ArqLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored8ArqLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored8ArqLayer6decodeEPv6size_t"></span><span id="stored::ArqLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_arq_layer_1aae0973f22504fbff0b98fefec8d53013"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored8ArqLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored8ArqLayer11didTransmitEv">
<span id="_CPPv3NK6stored8ArqLayer11didTransmitEv"></span><span id="_CPPv2NK6stored8ArqLayer11didTransmitEv"></span><span id="stored::ArqLayer::didTransmitC"></span><span class="target" id="classstored_1_1_arq_layer_1a72a34dd87ec3fcee83db2a44f7e8a8e5"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">didTransmit</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored8ArqLayer11didTransmitEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if a full message has been transmitted. </p>
<p>This function can be used to determine if this layer transmitted anything. For example, when a response is decoded, this function can be used to check if anything has sent back, or the message was dropped. Or, when <a class="reference internal" href="#classstored_1_1_arq_layer_1abf63088fb9952dcc6599a023d0491d12"><span class="std std-ref">flush()</span></a> is called, this flag can be used to check if anything was actually flushed.</p>
<p>To use the function, first call <a class="reference internal" href="#classstored_1_1_arq_layer_1ad385593c1549539ec000943046860404"><span class="std std-ref">resetDidTransmit()</span></a>, then execute the code you want to check, and then check <a class="reference internal" href="#classstored_1_1_arq_layer_1a72a34dd87ec3fcee83db2a44f7e8a8e5"><span class="std std-ref">didTransmit()</span></a>.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#classstored_1_1_arq_layer_1ad385593c1549539ec000943046860404"><span class="std std-ref">resetDidTransmit()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored8ArqLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored8ArqLayer6encodeEPKv6size_tb"></span><span id="stored::ArqLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_arq_layer_1a156d3e684ca880a6d5a4e57da36d585e"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored8ArqLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer5flushEv">
<span id="_CPPv3N6stored8ArqLayer5flushEv"></span><span id="_CPPv2N6stored8ArqLayer5flushEv"></span><span id="stored::ArqLayer::flush"></span><span class="target" id="classstored_1_1_arq_layer_1abf63088fb9952dcc6599a023d0491d12"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">flush</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5flushEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flushes all buffered message out of the stack (top-down), if possible. </p>
<p>Any buffered, held back, queued messages are tried to be sent immediately. A flush is always safe; it never destroys data in the stack, it only tries to force it out.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if successful and the stack is empty, or <code class="docutils literal notranslate"><span class="pre">false</span></code> if message are still blocked </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer9keepAliveEv">
<span id="_CPPv3N6stored8ArqLayer9keepAliveEv"></span><span id="_CPPv2N6stored8ArqLayer9keepAliveEv"></span><span id="stored::ArqLayer::keepAlive"></span><span class="target" id="classstored_1_1_arq_layer_1ab1d2c6282a3ecad2e561ddb517421b09"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">keepAlive</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer9keepAliveEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send a keep-alive packet to check the connection. </p>
<p>It actually retransmits the message that is currently processed (waiting for an ack), or sends a dummy message in case the encode queue is empty. Either way, <a class="reference internal" href="#classstored_1_1_arq_layer_1a7fc718f8b8c05aef735e2c861535eabc"><span class="std std-ref">retransmits()</span></a> and the <a class="reference internal" href="#classstored_1_1_arq_layer_1a1d3b18fc5b159e527b087385ac961e52a67b425c96fa51d033359fbea7f1c344a"><span class="std std-ref">EventRetransmit</span></a> can be used afterwards to determine the quality of the link. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored8ArqLayer3mtuEv">
<span id="_CPPv3NK6stored8ArqLayer3mtuEv"></span><span id="_CPPv2NK6stored8ArqLayer3mtuEv"></span><span id="stored::ArqLayer::mtuC"></span><span class="target" id="classstored_1_1_arq_layer_1a1efacad0bccc60d7d202663ce984aab2"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4NK6stored8ArqLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayeraSERR8ArqLayer">
<span id="_CPPv3N6stored8ArqLayeraSERR8ArqLayer"></span><span id="_CPPv2N6stored8ArqLayeraSERR8ArqLayer"></span><span id="stored::ArqLayer::assign-operator__ArqLayerRR"></span><span class="target" id="classstored_1_1_arq_layer_1adde2a92812c75681e4789a302717ee7e"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayerE" title="stored::ArqLayer"><span class="pre">ArqLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayeraSERR8ArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayeraSERK8ArqLayer">
<span id="_CPPv3N6stored8ArqLayeraSERK8ArqLayer"></span><span id="_CPPv2N6stored8ArqLayeraSERK8ArqLayer"></span><span id="stored::ArqLayer::assign-operator__ArqLayerCR"></span><span class="target" id="classstored_1_1_arq_layer_1a315e70b02f9ad26a581b3cdb7e19b345"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayerE" title="stored::ArqLayer"><span class="pre">ArqLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayeraSERK8ArqLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer5resetEv">
<span id="_CPPv3N6stored8ArqLayer5resetEv"></span><span id="_CPPv2N6stored8ArqLayer5resetEv"></span><span id="stored::ArqLayer::reset"></span><span class="target" id="classstored_1_1_arq_layer_1ab2f83fa2caaab88f9ee29855b3c527a7"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored8ArqLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer16resetDidTransmitEv">
<span id="_CPPv3N6stored8ArqLayer16resetDidTransmitEv"></span><span id="_CPPv2N6stored8ArqLayer16resetDidTransmitEv"></span><span id="stored::ArqLayer::resetDidTransmit"></span><span class="target" id="classstored_1_1_arq_layer_1ad385593c1549539ec000943046860404"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">resetDidTransmit</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer16resetDidTransmitEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the flag for <a class="reference internal" href="#classstored_1_1_arq_layer_1a72a34dd87ec3fcee83db2a44f7e8a8e5"><span class="std std-ref">didTransmit()</span></a>. </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#classstored_1_1_arq_layer_1a72a34dd87ec3fcee83db2a44f7e8a8e5"><span class="std std-ref">didTransmit()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored8ArqLayer11retransmitsEv">
<span id="_CPPv3NK6stored8ArqLayer11retransmitsEv"></span><span id="_CPPv2NK6stored8ArqLayer11retransmitsEv"></span><span id="stored::ArqLayer::retransmitsC"></span><span class="target" id="classstored_1_1_arq_layer_1a7fc718f8b8c05aef735e2c861535eabc"></span><span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">retransmits</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored8ArqLayer11retransmitsEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the number of consecutive retransmits of the same message. </p>
<p>Use this function to determine whether the connection is still alive. It is application-defined what the threshold is of too many retransmits. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer16setEventCallbackEP16EventCallbackArgPv">
<span id="_CPPv3N6stored8ArqLayer16setEventCallbackEP16EventCallbackArgPv"></span><span id="_CPPv2N6stored8ArqLayer16setEventCallbackEP16EventCallbackArgPv"></span><span id="stored::ArqLayer::setEventCallback__EventCallbackArgP.voidP"></span><span class="target" id="classstored_1_1_arq_layer_1aea5caae38968fc00bd7de90915a154a8"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setEventCallback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored8ArqLayer16EventCallbackArgE" title="stored::ArqLayer::EventCallbackArg"><span class="pre">EventCallbackArg</span></a> <span class="pre">*</span><em><span class="pre">cb</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">void</span> <span class="pre">*</span><em><span class="pre">arg</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer16setEventCallbackEP16EventCallbackArgPv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set event callback. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN6stored8ArqLayer16setEventCallbackERR1F">
<span id="_CPPv3I0EN6stored8ArqLayer16setEventCallbackERR1F"></span><span id="_CPPv2I0EN6stored8ArqLayer16setEventCallbackERR1F"></span><span class="pre">template&lt;</span><span class="pre">typename</span> <code class="sig-name descname"><span class="pre">F</span></code><span class="pre">&gt;</span><br /><span class="target" id="classstored_1_1_arq_layer_1a021b579df6a03cbf7a7f77098360547d"></span><em class="property"><span class="pre">inline</span></em> <code class="sig-name descname"><span class="pre">setEventCallback</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN6stored8ArqLayer16setEventCallbackERR1F" title="stored::ArqLayer::setEventCallback::F"><span class="pre">F</span></a> <span class="pre">&amp;</span><span class="pre">&amp;</span><em><span class="pre">cb</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN6stored8ArqLayer16setEventCallbackERR1F" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set event callback. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored8ArqLayer13shrink_to_fitEv">
<span id="_CPPv3N6stored8ArqLayer13shrink_to_fitEv"></span><span id="_CPPv2N6stored8ArqLayer13shrink_to_fitEv"></span><span id="stored::ArqLayer::shrink_to_fit"></span><span class="target" id="classstored_1_1_arq_layer_1ad8b06247c0e2efa0f54c8a1addac8e2d"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">shrink_to_fit</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer13shrink_to_fitEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free all unused memory. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored8ArqLayer13waitingForAckEv">
<span id="_CPPv3NK6stored8ArqLayer13waitingForAckEv"></span><span id="_CPPv2NK6stored8ArqLayer13waitingForAckEv"></span><span id="stored::ArqLayer::waitingForAckC"></span><span class="target" id="classstored_1_1_arq_layer_1a57d385c32e28f7684d75567aeca702f4"></span><span class="pre">bool</span> <code class="sig-name descname"><span class="pre">waitingForAck</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored8ArqLayer13waitingForAckEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if this layer is waiting for an ack. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N6stored8ArqLayer7AckFlagE">
<span id="_CPPv3N6stored8ArqLayer7AckFlagE"></span><span id="_CPPv2N6stored8ArqLayer7AckFlagE"></span><span id="stored::ArqLayer::AckFlag__uint8_tC"></span><span class="target" id="classstored_1_1_arq_layer_1a4af8faa0449d4c0c048be13a0d250384"></span><em class="property"><span class="pre">static</span></em> <span class="pre">uint8_t</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">AckFlag</span></code> <span class="pre">=</span> <span class="pre">0x80u</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer7AckFlagE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ack flag. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored8ArqLayer7NopFlagE">
<span id="_CPPv3N6stored8ArqLayer7NopFlagE"></span><span id="_CPPv2N6stored8ArqLayer7NopFlagE"></span><span id="stored::ArqLayer::NopFlag__uint8_tC"></span><span class="target" id="classstored_1_1_arq_layer_1a335ff281a24fb2aac70b381451589424"></span><em class="property"><span class="pre">static</span></em> <span class="pre">uint8_t</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">NopFlag</span></code> <span class="pre">=</span> <span class="pre">0x40u</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer7NopFlagE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag to indicate that the payload should be ignored. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N6stored8ArqLayer7SeqMaskE">
<span id="_CPPv3N6stored8ArqLayer7SeqMaskE"></span><span id="_CPPv2N6stored8ArqLayer7SeqMaskE"></span><span id="stored::ArqLayer::SeqMask__uint8_tC"></span><span class="target" id="classstored_1_1_arq_layer_1a6d481c24d715ceef8dcc2fd9cd19eab1"></span><em class="property"><span class="pre">static</span></em> <span class="pre">uint8_t</span> <em class="property"><span class="pre">const</span></em> <code class="sig-name descname"><span class="pre">SeqMask</span></code> <span class="pre">=</span> <span class="pre">0x3fu</span><a class="headerlink" href="#_CPPv4N6stored8ArqLayer7SeqMaskE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Mask for sequence number. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-polledfilelayer">
<h3>stored::PolledFileLayer<a class="headerlink" href="#stored-polledfilelayer" title="Permalink to this headline">¶</a></h3>
<dl class="cpp class">
<dt id="_CPPv4N6stored15PolledFileLayerE">
<span id="_CPPv3N6stored15PolledFileLayerE"></span><span id="_CPPv2N6stored15PolledFileLayerE"></span><span id="stored::PolledFileLayer"></span><span class="target" id="classstored_1_1_polled_file_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">PolledFileLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A generalized layer that reads from and writes to a file descriptor. </p>
<p>Subclassed by <a class="reference internal" href="#classstored_1_1_double_pipe_layer"><span class="std std-ref">stored::DoublePipeLayer</span></a>, <a class="reference internal" href="#classstored_1_1_file_layer"><span class="std std-ref">stored::FileLayer</span></a>, <a class="reference internal" href="#classstored_1_1_stdio_layer"><span class="std std-ref">stored::StdioLayer</span></a>, stored::ZmqLayer</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored15PolledFileLayer4baseE">
<span id="_CPPv3N6stored15PolledFileLayer4baseE"></span><span id="_CPPv2N6stored15PolledFileLayer4baseE"></span><span id="stored::PolledFileLayer::base"></span><span class="target" id="classstored_1_1_polled_file_layer_1ae29e59c1e56bd2122a3f29ce95a1b347"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N6stored15PolledFileLayer7fd_typeE">
<span id="_CPPv3N6stored15PolledFileLayer7fd_typeE"></span><span id="_CPPv2N6stored15PolledFileLayer7fd_typeE"></span><span id="stored::PolledFileLayer::fd_type"></span><span class="target" id="classstored_1_1_polled_file_layer_1aab824e395201946b7cdbf8875ef60570"></span><em class="property"><span class="pre">typedef</span> </em><span class="pre">int</span> <code class="sig-name descname"><span class="pre">fd_type</span></code><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayer7fd_typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored15PolledFileLayer15PolledFileLayerERK15PolledFileLayer">
<span id="_CPPv3N6stored15PolledFileLayer15PolledFileLayerERK15PolledFileLayer"></span><span id="_CPPv2N6stored15PolledFileLayer15PolledFileLayerERK15PolledFileLayer"></span><span id="stored::PolledFileLayer::PolledFileLayer__PolledFileLayerCR"></span><span class="target" id="classstored_1_1_polled_file_layer_1a71762ec54300940b45954217aa2a0e3d"></span><code class="sig-name descname"><span class="pre">PolledFileLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayer15PolledFileLayerERK15PolledFileLayer" title="stored::PolledFileLayer::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayer15PolledFileLayerERK15PolledFileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15PolledFileLayer15PolledFileLayerERR15PolledFileLayer">
<span id="_CPPv3N6stored15PolledFileLayer15PolledFileLayerERR15PolledFileLayer"></span><span id="_CPPv2N6stored15PolledFileLayer15PolledFileLayerERR15PolledFileLayer"></span><span id="stored::PolledFileLayer::PolledFileLayer__PolledFileLayerRR"></span><span class="target" id="classstored_1_1_polled_file_layer_1a8336473e6b106abdf8c57c06fe4566f0"></span><code class="sig-name descname"><span class="pre">PolledFileLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayer15PolledFileLayerERR15PolledFileLayer" title="stored::PolledFileLayer::PolledFileLayer"><span class="pre">PolledFileLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayer15PolledFileLayerERR15PolledFileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15PolledFileLayerD0Ev">
<span id="_CPPv3N6stored15PolledFileLayerD0Ev"></span><span id="_CPPv2N6stored15PolledFileLayerD0Ev"></span><span id="stored::PolledFileLayer::~PolledFileLayer"></span><span class="target" id="classstored_1_1_polled_file_layer_1a82c170ff06f0b8c4f7f53d423e138e91"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~PolledFileLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored15PolledFileLayer2fdEv">
<span id="_CPPv3NK6stored15PolledFileLayer2fdEv"></span><span id="_CPPv2NK6stored15PolledFileLayer2fdEv"></span><span id="stored::PolledFileLayer::fdC"></span><span class="target" id="classstored_1_1_polled_file_layer_1a194cabba4326353280b5a677afa2c0cc"></span><em class="property"><span class="pre">virtual</span></em> <a class="reference internal" href="#_CPPv4N6stored15PolledFileLayer7fd_typeE" title="stored::PolledFileLayer::fd_type"><span class="pre">fd_type</span></a> <code class="sig-name descname"><span class="pre">fd</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <span class="pre">=</span> <span class="pre">0</span><a class="headerlink" href="#_CPPv4NK6stored15PolledFileLayer2fdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The file descriptor you may poll before calling <a class="reference internal" href="#classstored_1_1_polled_layer_1a5543b676964a05c72c40137edeb4af98"><span class="std std-ref">recv()</span></a>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15PolledFileLayeraSERR15PolledFileLayer">
<span id="_CPPv3N6stored15PolledFileLayeraSERR15PolledFileLayer"></span><span id="_CPPv2N6stored15PolledFileLayeraSERR15PolledFileLayer"></span><span id="stored::PolledFileLayer::assign-operator__PolledFileLayerRR"></span><span class="target" id="classstored_1_1_polled_file_layer_1a5011c6e411e628759eccdc6952b01c25"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayeraSERR15PolledFileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored15PolledFileLayeraSERK15PolledFileLayer">
<span id="_CPPv3N6stored15PolledFileLayeraSERK15PolledFileLayer"></span><span id="_CPPv2N6stored15PolledFileLayeraSERK15PolledFileLayer"></span><span id="stored::PolledFileLayer::assign-operator__PolledFileLayerCR"></span><span class="target" id="classstored_1_1_polled_file_layer_1a310c802d737891c6d69264d339e02e8f"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored15PolledFileLayerE" title="stored::PolledFileLayer"><span class="pre">PolledFileLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored15PolledFileLayeraSERK15PolledFileLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-polledlayer">
<h3>stored::PolledLayer<a class="headerlink" href="#stored-polledlayer" title="Permalink to this headline">¶</a></h3>
<dl class="cpp class">
<dt id="_CPPv4N6stored11PolledLayerE">
<span id="_CPPv3N6stored11PolledLayerE"></span><span id="_CPPv2N6stored11PolledLayerE"></span><span id="stored::PolledLayer"></span><span class="target" id="classstored_1_1_polled_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">PolledLayer</span></code> <span class="pre">:</span> <em class="property"><span class="pre">public</span></em> <span class="pre">stored</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><a class="headerlink" href="#_CPPv4N6stored11PolledLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A generalized layer that needs a call to <code class="docutils literal notranslate"><a class="reference internal" href="#classstored_1_1_polled_layer_1a5543b676964a05c72c40137edeb4af98"><span class="std std-ref"><span class="pre">recv()</span></span></a></code> to get decodable data from somewhere else. </p>
<p>This includes files, sockets, etc. <code class="docutils literal notranslate"><a class="reference internal" href="#classstored_1_1_polled_layer_1a5543b676964a05c72c40137edeb4af98"><span class="std std-ref"><span class="pre">recv()</span></span></a></code> reads data, and passes the data upstream. </p>
<p>Subclassed by <a class="reference internal" href="#classstored_1_1_fifo_loopback"><span class="std std-ref">stored::FifoLoopback&lt; Capacity, Messages &gt;</span></a>, <a class="reference internal" href="#classstored_1_1_polled_file_layer"><span class="std std-ref">stored::PolledFileLayer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N6stored11PolledLayer4baseE">
<span id="_CPPv3N6stored11PolledLayer4baseE"></span><span id="_CPPv2N6stored11PolledLayer4baseE"></span><span id="stored::PolledLayer::base"></span><span class="target" id="classstored_1_1_polled_layer_1af883f8d2ca7b9e4ae070325d795ba4c7"></span><em class="property"><span class="pre">typedef</span> </em><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <code class="sig-name descname"><span class="pre">base</span></code><a class="headerlink" href="#_CPPv4N6stored11PolledLayer4baseE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayer11PolledLayerERK11PolledLayer">
<span id="_CPPv3N6stored11PolledLayer11PolledLayerERK11PolledLayer"></span><span id="_CPPv2N6stored11PolledLayer11PolledLayerERK11PolledLayer"></span><span id="stored::PolledLayer::PolledLayer__PolledLayerCR"></span><span class="target" id="classstored_1_1_polled_layer_1a9a5236365d67ec6dba4962dbd3e5fc69"></span><code class="sig-name descname"><span class="pre">PolledLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayer11PolledLayerERK11PolledLayer" title="stored::PolledLayer::PolledLayer"><span class="pre">PolledLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11PolledLayer11PolledLayerERK11PolledLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayer11PolledLayerERR11PolledLayer">
<span id="_CPPv3N6stored11PolledLayer11PolledLayerERR11PolledLayer"></span><span id="_CPPv2N6stored11PolledLayer11PolledLayerERR11PolledLayer"></span><span id="stored::PolledLayer::PolledLayer__PolledLayerRR"></span><span class="target" id="classstored_1_1_polled_layer_1a0931f1e17a6f3cedd3c7270d33e09372"></span><code class="sig-name descname"><span class="pre">PolledLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayer11PolledLayerERR11PolledLayer" title="stored::PolledLayer::PolledLayer"><span class="pre">PolledLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11PolledLayer11PolledLayerERR11PolledLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayerD0Ev">
<span id="_CPPv3N6stored11PolledLayerD0Ev"></span><span id="_CPPv2N6stored11PolledLayerD0Ev"></span><span id="stored::PolledLayer::~PolledLayer"></span><span class="target" id="classstored_1_1_polled_layer_1a21006ea40e3651fb8ce21e28126b0ec8"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~PolledLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">override</span></em><a class="headerlink" href="#_CPPv4N6stored11PolledLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dtor. </p>
<p>Make sure to close() the related file descriptor prior to destruction. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored11PolledLayer6isOpenEv">
<span id="_CPPv3NK6stored11PolledLayer6isOpenEv"></span><span id="_CPPv2NK6stored11PolledLayer6isOpenEv"></span><span id="stored::PolledLayer::isOpenC"></span><span class="target" id="classstored_1_1_polled_layer_1aacb0102c2c989781b5f8934f7f193f0f"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">isOpen</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored11PolledLayer6isOpenEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if the file descriptor is open. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored11PolledLayer9lastErrorEv">
<span id="_CPPv3NK6stored11PolledLayer9lastErrorEv"></span><span id="_CPPv2NK6stored11PolledLayer9lastErrorEv"></span><span id="stored::PolledLayer::lastErrorC"></span><span class="target" id="classstored_1_1_polled_layer_1a5f93b36636abab8f4cacb5f1b4fbcd82"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">lastError</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored11PolledLayer9lastErrorEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the last error of an invoked method of this class. </p>
<p>This is required after construction or <code class="docutils literal notranslate"><a class="reference internal" href="#classstored_1_1_protocol_layer_1a66c24cec6a17c44fac68213d358a5aa8"><span class="std std-ref"><span class="pre">encode()</span></span></a></code>, for example, where no error return value is possible. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayeraSERR11PolledLayer">
<span id="_CPPv3N6stored11PolledLayeraSERR11PolledLayer"></span><span id="_CPPv2N6stored11PolledLayeraSERR11PolledLayer"></span><span id="stored::PolledLayer::assign-operator__PolledLayerRR"></span><span class="target" id="classstored_1_1_polled_layer_1a59eb365dfef534727567e6a3fa997d55"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11PolledLayeraSERR11PolledLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayeraSERK11PolledLayer">
<span id="_CPPv3N6stored11PolledLayeraSERK11PolledLayer"></span><span id="_CPPv2N6stored11PolledLayeraSERK11PolledLayer"></span><span id="stored::PolledLayer::assign-operator__PolledLayerCR"></span><span class="target" id="classstored_1_1_polled_layer_1a0cee81caa8b939b9919cd0e09ba22895"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored11PolledLayerE" title="stored::PolledLayer"><span class="pre">PolledLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored11PolledLayeraSERK11PolledLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored11PolledLayer4recvEl">
<span id="_CPPv3N6stored11PolledLayer4recvEl"></span><span id="_CPPv2N6stored11PolledLayer4recvEl"></span><span id="stored::PolledLayer::recv__l"></span><span class="target" id="classstored_1_1_polled_layer_1a5543b676964a05c72c40137edeb4af98"></span><em class="property"><span class="pre">virtual</span></em> <span class="pre">int</span> <code class="sig-name descname"><span class="pre">recv</span></code><span class="sig-paren">(</span><span class="pre">long</span> <em><span class="pre">timeout_us</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">0</span><a class="headerlink" href="#_CPPv4N6stored11PolledLayer4recvEl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Try to receive and decode data. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>0 on success, otherwise an <code class="docutils literal notranslate"><span class="pre">errno</span></code> </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="stored-protocollayer">
<h3>stored::ProtocolLayer<a class="headerlink" href="#stored-protocollayer" title="Permalink to this headline">¶</a></h3>
<dl class="cpp class">
<dt id="_CPPv4N6stored13ProtocolLayerE">
<span id="_CPPv3N6stored13ProtocolLayerE"></span><span id="_CPPv2N6stored13ProtocolLayerE"></span><span id="stored::ProtocolLayer"></span><span class="target" id="classstored_1_1_protocol_layer"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">stored</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">ProtocolLayer</span></code><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Protocol layer base class. </p>
<p>A layer is usually part of the protocol stack. Bytes are decoded and forwarded to the layer above this one, and the layer above sends bytes for encoding down. Moreover, <a class="reference internal" href="#classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"><span class="std std-ref">decode()</span></a> is the inverse of <a class="reference internal" href="#classstored_1_1_protocol_layer_1a66c24cec6a17c44fac68213d358a5aa8"><span class="std std-ref">encode()</span></a>. It is wise to stick to this concept, even though the interface of this class allows more irregular structures, such that decoding and encoding take a different path through the protocol layers.</p>
<p>The implementation of this class does nothing except forwarding bytes. Override <a class="reference internal" href="#classstored_1_1_protocol_layer_1a66c24cec6a17c44fac68213d358a5aa8"><span class="std std-ref">encode()</span></a> and <a class="reference internal" href="#classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"><span class="std std-ref">decode()</span></a> in a subclass. </p>
<p>Subclassed by LossyChannel, PrintfPhysical, <a class="reference internal" href="#classstored_1_1_arq_layer"><span class="std std-ref">stored::ArqLayer</span></a>, <a class="reference internal" href="#classstored_1_1_ascii_escape_layer"><span class="std std-ref">stored::AsciiEscapeLayer</span></a>, <a class="reference internal" href="#classstored_1_1_buffer_layer"><span class="std std-ref">stored::BufferLayer</span></a>, <a class="reference internal" href="#classstored_1_1_compress_layer"><span class="std std-ref">stored::CompressLayer</span></a>, <a class="reference internal" href="#classstored_1_1_crc16_layer"><span class="std std-ref">stored::Crc16Layer</span></a>, <a class="reference internal" href="#classstored_1_1_crc8_layer"><span class="std std-ref">stored::Crc8Layer</span></a>, <a class="reference internal" href="#classstored_1_1_debug_arq_layer"><span class="std std-ref">stored::DebugArqLayer</span></a>, <a class="reference internal" href="cpp_debugger.html#classstored_1_1_debugger"><span class="std std-ref">stored::Debugger</span></a>, stored::FrameMerger, stored::impl::Loopback1, <a class="reference internal" href="#classstored_1_1_polled_layer"><span class="std std-ref">stored::PolledLayer</span></a>, <a class="reference internal" href="#classstored_1_1_print_layer"><span class="std std-ref">stored::PrintLayer</span></a>, <a class="reference internal" href="#classstored_1_1_segmentation_layer"><span class="std std-ref">stored::SegmentationLayer</span></a>, stored::Stream&lt; Compress &gt;, stored::Stream&lt; true &gt;, <a class="reference internal" href="cpp_synchronizer.html#classstored_1_1_sync_connection"><span class="std std-ref">stored::SyncConnection</span></a>, <a class="reference internal" href="#classstored_1_1_terminal_layer"><span class="std std-ref">stored::TerminalLayer</span></a>, stored::XsimLayer::DecodeCallback, stored::Stream&lt; false &gt;, stored::Stream&lt;&gt;</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer13ProtocolLayerERK13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer13ProtocolLayerERK13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer13ProtocolLayerERK13ProtocolLayer"></span><span id="stored::ProtocolLayer::ProtocolLayer__ProtocolLayerCR"></span><span class="target" id="classstored_1_1_protocol_layer_1a04eadf44cf520838107498fa87ad4ff1"></span><code class="sig-name descname"><span class="pre">ProtocolLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerERK13ProtocolLayer" title="stored::ProtocolLayer::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerERK13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer13ProtocolLayerERR13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer13ProtocolLayerERR13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer13ProtocolLayerERR13ProtocolLayer"></span><span id="stored::ProtocolLayer::ProtocolLayer__ProtocolLayerRR"></span><span class="target" id="classstored_1_1_protocol_layer_1a3c582466de07553928d4801c705af2fa"></span><code class="sig-name descname"><span class="pre">ProtocolLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerERR13ProtocolLayer" title="stored::ProtocolLayer::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerERR13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer"></span><span id="stored::ProtocolLayer::ProtocolLayer__ProtocolLayerP.ProtocolLayerP"></span><span class="target" id="classstored_1_1_protocol_layer_1a01e053123817f8f52dc9217590d5f3b9"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">explicit</span></em> <code class="sig-name descname"><span class="pre">ProtocolLayer</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer" title="stored::ProtocolLayer::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer" title="stored::ProtocolLayer::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em> <span class="pre">=</span> <span class="pre">nullptr</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer13ProtocolLayerEP13ProtocolLayerP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructor. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">up</span></code>: the layer above, which receives our decoded frames </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">down</span></code>: the layer below, which receives our encoded frames </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayerD0Ev">
<span id="_CPPv3N6stored13ProtocolLayerD0Ev"></span><span id="_CPPv2N6stored13ProtocolLayerD0Ev"></span><span id="stored::ProtocolLayer::~ProtocolLayer"></span><span class="target" id="classstored_1_1_protocol_layer_1a900026e43f2374c28e0cefcb6e002751"></span><em class="property"><span class="pre">virtual</span></em> <code class="sig-name descname"><span class="pre">~ProtocolLayer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayerD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
<p>Ties to the layer above and below are nicely removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer6decodeEPv6size_t">
<span id="_CPPv3N6stored13ProtocolLayer6decodeEPv6size_t"></span><span id="_CPPv2N6stored13ProtocolLayer6decodeEPv6size_t"></span><span id="stored::ProtocolLayer::decode__voidP.s"></span><span class="target" id="classstored_1_1_protocol_layer_1a357b029311be09df61e019682a848ab5"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer6decodeEPv6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a frame and forward the decoded frame to the upper layer. </p>
<p>The given buffer may be decoded in-place. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13ProtocolLayer4downEv">
<span id="_CPPv3NK6stored13ProtocolLayer4downEv"></span><span id="_CPPv2NK6stored13ProtocolLayer4downEv"></span><span id="stored::ProtocolLayer::downC"></span><span class="target" id="classstored_1_1_protocol_layer_1ac9a6113262899388f922a6d466e9245a"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><code class="sig-name descname"><span class="pre">down</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored13ProtocolLayer4downEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the layer below this one. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the layer, or <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> if there is none. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer6encodeEv">
<span id="_CPPv3N6stored13ProtocolLayer6encodeEv"></span><span id="_CPPv2N6stored13ProtocolLayer6encodeEv"></span><span id="stored::ProtocolLayer::encode"></span><span class="target" id="classstored_1_1_protocol_layer_1a66c24cec6a17c44fac68213d358a5aa8"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer6encodeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encodes the last part of the current frame. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer6encodeEPKv6size_tb">
<span id="_CPPv3N6stored13ProtocolLayer6encodeEPKv6size_tb"></span><span id="_CPPv2N6stored13ProtocolLayer6encodeEPKv6size_tb"></span><span id="stored::ProtocolLayer::encode__voidCP.s.b"></span><span class="target" id="classstored_1_1_protocol_layer_1ae5dab6177c1448d1ce5ac04a69c9b4e4"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">encode</span></code><span class="sig-paren">(</span><span class="pre">void</span> <em class="property"><span class="pre">const</span></em> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">size_t</span> <em><span class="pre">len</span></em>, <span class="pre">bool</span> <em><span class="pre">last</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer6encodeEPKv6size_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode a (partial) frame and forward it to the lower layer. </p>
<p>The given buffer will not be modified. A new buffer is allocated when required. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer5flushEv">
<span id="_CPPv3N6stored13ProtocolLayer5flushEv"></span><span id="_CPPv2N6stored13ProtocolLayer5flushEv"></span><span id="stored::ProtocolLayer::flush"></span><span class="target" id="classstored_1_1_protocol_layer_1a654466d2b7502efdbd5b1b1e95263194"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">flush</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer5flushEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flushes all buffered message out of the stack (top-down), if possible. </p>
<p>Any buffered, held back, queued messages are tried to be sent immediately. A flush is always safe; it never destroys data in the stack, it only tries to force it out.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if successful and the stack is empty, or <code class="docutils literal notranslate"><span class="pre">false</span></code> if message are still blocked </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13ProtocolLayer3mtuEv">
<span id="_CPPv3NK6stored13ProtocolLayer3mtuEv"></span><span id="_CPPv2NK6stored13ProtocolLayer3mtuEv"></span><span id="stored::ProtocolLayer::mtuC"></span><span class="target" id="classstored_1_1_protocol_layer_1a88195d7cdb7129ac7bc625ffeb24d449"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">size_t</span> <code class="sig-name descname"><span class="pre">mtu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored13ProtocolLayer3mtuEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the maximum amount of data to be put in one message that is encoded. </p>
<p>If there is a MTU applicable to the physical transport (like a CAN bus), override this method to reflect that value. Layers on top will decrease the MTU when there protocol adds headers, for example.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the number of bytes, or 0 for infinity </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayeraSERR13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayeraSERR13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayeraSERR13ProtocolLayer"></span><span id="stored::ProtocolLayer::assign-operator__ProtocolLayerRR"></span><span class="target" id="classstored_1_1_protocol_layer_1a22cfb4269bef0178b554ddf4119f218d"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a><span class="pre">&amp;</span><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayeraSERR13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted move assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayeraSERK13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayeraSERK13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayeraSERK13ProtocolLayer"></span><span id="stored::ProtocolLayer::assign-operator__ProtocolLayerCR"></span><span class="target" id="classstored_1_1_protocol_layer_1a71e9e3a8315078dbf17c3056f185fc76"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">operator=</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <em class="property"><span class="pre">const</span></em><span class="pre">&amp;</span><span class="sig-paren">)</span> <span class="pre">=</span> <span class="pre">delete</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayeraSERK13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deleted assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer5resetEv">
<span id="_CPPv3N6stored13ProtocolLayer5resetEv"></span><span id="_CPPv2N6stored13ProtocolLayer5resetEv"></span><span id="stored::ProtocolLayer::reset"></span><span class="target" id="classstored_1_1_protocol_layer_1a53fe78a7b405b981649112d9c84fe762"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reset</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer5resetEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset the stack (top-down), and drop all messages. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer7setDownEP13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer7setDownEP13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer7setDownEP13ProtocolLayer"></span><span id="stored::ProtocolLayer::setDown__ProtocolLayerP"></span><span class="target" id="classstored_1_1_protocol_layer_1a2b2523892617a43cf7421a654bfc3b6c"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setDown</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">down</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer7setDownEP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Change the layer that receives our encoded frames. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">down</span></code>: the layer, which can be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer20setPurgeableResponseEb">
<span id="_CPPv3N6stored13ProtocolLayer20setPurgeableResponseEb"></span><span id="_CPPv2N6stored13ProtocolLayer20setPurgeableResponseEb"></span><span id="stored::ProtocolLayer::setPurgeableResponse__b"></span><span class="target" id="classstored_1_1_protocol_layer_1a8e8b913345f11bf3cf3999c305905681"></span><em class="property"><span class="pre">inline</span></em> <em class="property"><span class="pre">virtual</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setPurgeableResponse</span></code><span class="sig-paren">(</span><span class="pre">bool</span> <em><span class="pre">purgeable</span></em> <span class="pre">=</span> <span class="pre">true</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer20setPurgeableResponseEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flags the current response as purgeable. </p>
<p>This may influence how a response is handled. Especially, in case of retransmits of lost packets, one may decide to either reexecute the command, or to save the first response and resend it when the command was retransmitted. In that sense, a precious response (default) means that every layer should handle the data with case, as it cannot be recovered once it is lost. When the response is flagged purgeeble, the response may be thrown away after the first try to transmit it to the client.</p>
<p>By default, all responses are precious. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer5setUpEP13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer5setUpEP13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer5setUpEP13ProtocolLayer"></span><span id="stored::ProtocolLayer::setUp__ProtocolLayerP"></span><span class="target" id="classstored_1_1_protocol_layer_1a43ca79c4b9503ce51f817ddc7fcd1cb5"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">setUp</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><em><span class="pre">up</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer5setUpEP13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Change the layer that receives our decoded frames. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">up</span></code>: the layer, which can be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer5stackER13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer5stackER13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer5stackER13ProtocolLayer"></span><span id="stored::ProtocolLayer::stack__ProtocolLayerR"></span><span class="target" id="classstored_1_1_protocol_layer_1a3f34a83e488add9a3f459fb8ebed8e34"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">stack</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">down</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer5stackER13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the up/down layers of this layer and the given layer, such that this layer is stacked on (or wrapped by) the given one. </p>
<p>If the given layer was not the top of the stack, this layer injects itself between the given layer and its stacked one. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6stored13ProtocolLayer2upEv">
<span id="_CPPv3NK6stored13ProtocolLayer2upEv"></span><span id="_CPPv2NK6stored13ProtocolLayer2upEv"></span><span id="stored::ProtocolLayer::upC"></span><span class="target" id="classstored_1_1_protocol_layer_1ac7cbd80b10e74166c661582027158b40"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">*</span><code class="sig-name descname"><span class="pre">up</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK6stored13ProtocolLayer2upEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the layer above this one. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the layer, or <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> if there is none. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6stored13ProtocolLayer4wrapER13ProtocolLayer">
<span id="_CPPv3N6stored13ProtocolLayer4wrapER13ProtocolLayer"></span><span id="_CPPv2N6stored13ProtocolLayer4wrapER13ProtocolLayer"></span><span id="stored::ProtocolLayer::wrap__ProtocolLayerR"></span><span class="target" id="classstored_1_1_protocol_layer_1a7d2f0987462196f77ca9067c050db09d"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">wrap</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6stored13ProtocolLayerE" title="stored::ProtocolLayer"><span class="pre">ProtocolLayer</span></a> <span class="pre">&amp;</span><em><span class="pre">up</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6stored13ProtocolLayer4wrapER13ProtocolLayer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the up/down layers of this layer and the given layer, such that this layer wraps the given one. </p>
<p>If the given layer was not the bottom of the stack, this layer injects itself in between the given layer and its wrapper. </p>
</dd></dl>

</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="cpp_synchronizer.html" class="btn btn-neutral float-right" title="Synchronizer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="cpp_directory.html" class="btn btn-neutral float-left" title="Directory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Jochem Rutgers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>